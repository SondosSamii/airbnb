[{"E:\\iti\\final pro\\airbnb\\src\\index.js":"1","E:\\iti\\final pro\\airbnb\\src\\App.js":"2","E:\\iti\\final pro\\airbnb\\src\\components\\routes.js":"3","E:\\iti\\final pro\\airbnb\\src\\reducers\\index.js":"4","E:\\iti\\final pro\\airbnb\\src\\components\\home\\home.js":"5","E:\\iti\\final pro\\airbnb\\src\\components\\session.js":"6","E:\\iti\\final pro\\airbnb\\src\\components\\not-found.js":"7","E:\\iti\\final pro\\airbnb\\src\\components\\footer.js":"8","E:\\iti\\final pro\\airbnb\\src\\components\\search\\search.js":"9","E:\\iti\\final pro\\airbnb\\src\\components\\Forms\\host.js":"10","E:\\iti\\final pro\\airbnb\\src\\components\\Forms\\editPlace.js":"11","E:\\iti\\final pro\\airbnb\\src\\components\\profile\\profile.js":"12","E:\\iti\\final pro\\airbnb\\src\\components\\about\\about.js":"13","E:\\iti\\final pro\\airbnb\\src\\components\\reservations\\reservationForm.js":"14","E:\\iti\\final pro\\airbnb\\src\\components\\PlaceD\\place-details.js":"15","E:\\iti\\final pro\\airbnb\\src\\components\\Team\\our-team.js":"16","E:\\iti\\final pro\\airbnb\\src\\components\\Forms\\login.js":"17","E:\\iti\\final pro\\airbnb\\src\\components\\navbar.js":"18","E:\\iti\\final pro\\airbnb\\src\\reducers\\wishlists.js":"19","E:\\iti\\final pro\\airbnb\\src\\reducers\\reservations.js":"20","E:\\iti\\final pro\\airbnb\\src\\reducers\\places.js":"21","E:\\iti\\final pro\\airbnb\\src\\reducers\\clients.js":"22","E:\\iti\\final pro\\airbnb\\src\\reducers\\reviews.js":"23","E:\\iti\\final pro\\airbnb\\src\\components\\home\\slideshow.js":"24","E:\\iti\\final pro\\airbnb\\src\\components\\home\\places.js":"25","E:\\iti\\final pro\\airbnb\\src\\components\\search\\map.js":"26","E:\\iti\\final pro\\airbnb\\src\\components\\home\\places-cards.js":"27","E:\\iti\\final pro\\airbnb\\src\\actions\\reservations.js":"28","E:\\iti\\final pro\\airbnb\\src\\actions\\wishlists.js":"29","E:\\iti\\final pro\\airbnb\\src\\actions\\clients.js":"30","E:\\iti\\final pro\\airbnb\\src\\components\\Forms\\review.js":"31","E:\\iti\\final pro\\airbnb\\src\\actions\\reviews.js":"32","E:\\iti\\final pro\\airbnb\\src\\actions\\places.js":"33","E:\\iti\\final pro\\airbnb\\src\\components\\Forms\\Signup.js":"34","E:\\iti\\final pro\\airbnb\\src\\components\\home\\searchbar.js":"35","E:\\iti\\final pro\\airbnb\\src\\components\\home\\features-icons.js":"36"},{"size":348,"mtime":1613278076376,"results":"37","hashOfConfig":"38"},{"size":454,"mtime":1612923045671,"results":"39","hashOfConfig":"38"},{"size":2174,"mtime":1613255417659,"results":"40","hashOfConfig":"38"},{"size":337,"mtime":1612923045825,"results":"41","hashOfConfig":"38"},{"size":1372,"mtime":1613242230905,"results":"42","hashOfConfig":"38"},{"size":467,"mtime":1612923045825,"results":"43","hashOfConfig":"38"},{"size":61586,"mtime":1612802935035,"results":"44","hashOfConfig":"38"},{"size":2781,"mtime":1612802934860,"results":"45","hashOfConfig":"38"},{"size":9429,"mtime":1613242231058,"results":"46","hashOfConfig":"38"},{"size":30162,"mtime":1613278076371,"results":"47","hashOfConfig":"38"},{"size":31903,"mtime":1613278076511,"results":"48","hashOfConfig":"38"},{"size":29612,"mtime":1613278076375,"results":"49","hashOfConfig":"38"},{"size":2824,"mtime":1613242230904,"results":"50","hashOfConfig":"38"},{"size":16162,"mtime":1613278076376,"results":"51","hashOfConfig":"38"},{"size":19428,"mtime":1613278076373,"results":"52","hashOfConfig":"38"},{"size":9881,"mtime":1613242230903,"results":"53","hashOfConfig":"38"},{"size":11904,"mtime":1613278076495,"results":"54","hashOfConfig":"38"},{"size":12098,"mtime":1613278076374,"results":"55","hashOfConfig":"38"},{"size":1175,"mtime":1613242231092,"results":"56","hashOfConfig":"38"},{"size":685,"mtime":1613242231091,"results":"57","hashOfConfig":"38"},{"size":1528,"mtime":1613278076377,"results":"58","hashOfConfig":"38"},{"size":702,"mtime":1613242231090,"results":"59","hashOfConfig":"38"},{"size":785,"mtime":1613242231091,"results":"60","hashOfConfig":"38"},{"size":1117,"mtime":1612802934862,"results":"61","hashOfConfig":"38"},{"size":6939,"mtime":1613242230907,"results":"62","hashOfConfig":"38"},{"size":6127,"mtime":1613242230985,"results":"63","hashOfConfig":"38"},{"size":20396,"mtime":1613278076373,"results":"64","hashOfConfig":"38"},{"size":2837,"mtime":1613242230768,"results":"65","hashOfConfig":"38"},{"size":4070,"mtime":1613242230769,"results":"66","hashOfConfig":"38"},{"size":4332,"mtime":1613242230767,"results":"67","hashOfConfig":"38"},{"size":5739,"mtime":1613278076372,"results":"68","hashOfConfig":"38"},{"size":2966,"mtime":1613242230769,"results":"69","hashOfConfig":"38"},{"size":3739,"mtime":1613263124959,"results":"70","hashOfConfig":"38"},{"size":9495,"mtime":1613278076371,"results":"71","hashOfConfig":"38"},{"size":2851,"mtime":1613242230907,"results":"72","hashOfConfig":"38"},{"size":677,"mtime":1613242230905,"results":"73","hashOfConfig":"38"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1xwh65",{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","errorCount":0,"warningCount":20,"fixableErrorCount":0,"fixableWarningCount":0,"source":"94","usedDeprecatedRules":"95"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":21,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"95"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"95"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"104","messages":"105","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"106","usedDeprecatedRules":"95"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":18,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"95"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"112","messages":"113","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"95"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"95"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"95"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"125","messages":"126","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"131","messages":"132","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"133","messages":"134","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"135","usedDeprecatedRules":"95"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"140","messages":"141","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"142","messages":"143","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"144"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"147","messages":"148","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"149","messages":"150","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"151","usedDeprecatedRules":"95"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\iti\\final pro\\airbnb\\src\\index.js",[],"E:\\iti\\final pro\\airbnb\\src\\App.js",[],"E:\\iti\\final pro\\airbnb\\src\\components\\routes.js",[],"E:\\iti\\final pro\\airbnb\\src\\reducers\\index.js",[],"E:\\iti\\final pro\\airbnb\\src\\components\\home\\home.js",[],"E:\\iti\\final pro\\airbnb\\src\\components\\session.js",[],"E:\\iti\\final pro\\airbnb\\src\\components\\not-found.js",[],"E:\\iti\\final pro\\airbnb\\src\\components\\footer.js",[],"E:\\iti\\final pro\\airbnb\\src\\components\\search\\search.js",[],"E:\\iti\\final pro\\airbnb\\src\\components\\Forms\\host.js",["156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175"],"import React, { Component }  from 'react';\r\n// import React, { Component, createRef }  from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './form.css';\r\n// import { BsCheckAll } from 'react-icons/bs';\r\nimport { MdDelete } from 'react-icons/md';\r\n// import { event } from 'jquery';\r\nimport Joi from 'joi-browser';\r\n// import Joi, { validate } from 'joi-browser';\r\nimport axios from \"axios\";\r\nimport { addplace } from \"../../actions/places\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {SessionContext ,getSessionCookie} from '../session'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n// import { useContext } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nvar params = {\r\n    access_key: '6895d17a0165c9fa200e743be896862d',\r\n    query: '1600 Pennsylvania Ave NW'\r\n    }\r\n\r\nclass Host extends Component {\r\n    //static contextType = SessionContext();\r\n    \r\n  \r\n    constructor(props) {\r\n\r\n        super(props);\r\n        this.addActiveClass= this.addActiveClass.bind(this);\r\n        this.roomNum = React.createRef();\r\n        this.bathNum = React.createRef();\r\n        this.bedNum = React.createRef();\r\n        this.kitNum = React.createRef();\r\n        this.maxGuests=React.createRef();\r\n        this.rooms =0;\r\n        // const session = getSessionCookie();\r\n        // console.log(session)\r\n        //login session validation\r\n        // this.getUserId=()=>{\r\n        //     for(const data of this.data.data){\r\n        //         if(session.email===data.email){\r\n        //             this.state.UserId=data.id;\r\n        //         }\r\n        //     }\r\n        //   }\r\n         \r\n          this.handleInputChange = this.handleInputChange.bind(this);\r\n        }\r\n         \r\n        state = {\r\n            isLogin: true,\r\n            token: \"\",\r\n            name:\"\",\r\n            description:\"\",\r\n            type:\"\",\r\n            price:\"\",\r\n            city:\"\",\r\n            country:\"\",\r\n            zipcode:\"\",\r\n            room:0,\r\n            bathroom:0,\r\n            bedroom:0,\r\n            kitchen:0,\r\n            guests:0,\r\n            tv: false,\r\n            aircon: false,\r\n            wifi: false,\r\n            heat:false,\r\n            pets:false,\r\n            photo:{},\r\n            files:[],\r\n            filesArr: [],\r\n            errors:{},\r\n            coordinates :\"\"\r\n        };\r\n        \r\n        async componentDidMount(){\r\n            this.setState({token: localStorage.getItem(\"token\")});\r\n            // this.setState({UserId: localStorage.getItem(\"user_id\")});\r\n            if(!localStorage.getItem(\"token\")){\r\n                alert(\"please log in frist!\")\r\n            this.props.history.push(\"/\");\r\n            }\r\n\r\n            // this.data=await axios.get(\"http://localhost:3000/clients/\");\r\n        }\r\n         //renderfile\r\n         Maping = ()=>{\r\n            var fileMap = this.state.filesArr.map((file, index) => {\r\n                let suffix = \"bytes\";\r\n                let size = file.size;\r\n                if (size >= 1024 && size < 1024000) {\r\n                  suffix = \"KB\";\r\n                  size = Math.round(size / 1024 * 100) / 100;\r\n                } else if (size >= 1024000) {\r\n                  suffix = \"MB\";\r\n                  size = Math.round(size / 1024000 * 100) / 100;\r\n                }\r\n                return (<li key=\"{index}\">{file.name} <span className=\"file-size\">{size} {suffix}</span><MdDelete className=\"delimg\" onClick={() => this.deleteImg({index})}  /></li>)\r\n              });\r\n              \r\n              return(fileMap);\r\n         }\r\n         photomap=()=>{\r\n            var fileMap = this.state.filesArr.map((file, index) => {\r\n                return file.name\r\n            });\r\n            return(fileMap);  \r\n        }\r\n         \r\n          \r\n         RenderFileList() {\r\n            let map=this.Maping();\r\n            ReactDOM.render(map, document.getElementById(\"selectedfiles\"));\r\n        }\r\n        onFileChange =async event => {\r\n            let newfiles = document.getElementById(\"files\").files;\r\n            let newfilesArr = Array.from(newfiles);\r\n            this.state.photo=document.getElementById(\"files\").files;\r\n            console.log(document.getElementById(\"files\").files.length)\r\n            await this.setState({ files: newfiles, filesArr: newfilesArr });\r\n            this.RenderFileList();\r\n        };\r\n        //delete photo\r\n        deleteImg(index){\r\n            console.log(this.state.photo);\r\n            let key = index;\r\n            let curArr = this.state.filesArr;\r\n            let newfiles=new DataTransfer();\r\n            // for (let file of document.getElementById(\"files\").files){\r\n            //     if (file !== document.getElementById(\"files\").files[index]) {\r\n            //         newfiles.items.add(file);\r\n            //     }}\r\n            for (var i = 0; i < document.getElementById(\"files\").files.length; i++) {\r\n                if(i !== key.index){\r\n                var file = document.getElementById(\"files\").files[i];\r\n                console.log(file);\r\n                newfiles.items.add(file);\r\n                }\r\n            }\r\n            curArr.splice(key, 1);\r\n            this.setState({ filesArr: curArr });\r\n            this.state.photo=newfiles.files;\r\n            console.log(this.state.photo);\r\n            this.RenderFileList();\r\n        }\r\n       \r\n        //checkbox change\r\n         handleInputChange=async e=> {\r\n          const target = e.target;\r\n          const value = target.type === 'checkbox' ? target.checked : target.value;\r\n          const targetname = target.name;\r\n          let state={...this.state};\r\n          state[targetname]=value;\r\n          await this.setState(state);\r\n          console.log(this.state);\r\n          console.log(targetname);\r\n        }\r\n        handelchange=e=>{\r\n            this.state.errors[e.currentTarget.name]=null;\r\n            let state={...this.state};\r\n            state[e.currentTarget.name]=e.currentTarget.value;\r\n            this.setState(state)\r\n        }\r\n    \r\n      addActiveClass(i) {\r\n        var x = document.getElementById(i);\r\n        if (x.style.display === \"none\") {\r\n          x.style.display = \"block\";\r\n        } else {\r\n          x.style.display = \"none\";\r\n        }\r\n      }\r\n      AddNumber(type){\r\n        if(type===\"room\"){\r\n            this.roomNum.current.value ++;\r\n            this.state.room+=1;\r\n        }\r\n        else if(type===\"bath\"){\r\n            this.bathNum.current.value ++;\r\n            this.state.bathroom+=1;\r\n        }\r\n        else if(type===\"bed\"){\r\n            this.bedNum.current.value ++;\r\n            this.state.bedroom+=1;\r\n        }\r\n        else if(type===\"kit\"){\r\n            this.kitNum.current.value ++;\r\n            this.state.kitchen+=1;\r\n        }\r\n        else if(type===\"guest\"){\r\n            this.maxGuests.current.value ++;\r\n            this.state.guests+=1;\r\n        }\r\n      }\r\n      RemoveNumber(type){\r\n        if(type==\"room\" &&this.roomNum.current.value>1){\r\n            this.roomNum.current.value --;\r\n            this.state.room-=1;\r\n        }\r\n        else if(type==\"bath\" && this.bathNum.current.value>1){\r\n            this.bathNum.current.value --;\r\n            this.state.bathroom-=1;\r\n        }\r\n        else if(type==\"bed\" && this.bedNum.current.value>1){\r\n            this.bedNum.current.value --;\r\n            this.state.bedroom-=1;\r\n        }\r\n        else if(type==\"kit\" && this.kitNum.current.value>0){\r\n            this.kitNum.current.value --;\r\n            this.state.kitchen-=1;\r\n        }\r\n        else if(type==\"guest\" && this.maxGuests.current.value>1){\r\n            this.maxGuests.current.value --;\r\n            this.state.guests-=1;\r\n        }\r\n      }\r\n      handleClick = async()=>{\r\n        var coordinates ={\r\n            lat: \"\",\r\n            lng: \"\"\r\n        }\r\n        params.query = this.state.country;\r\n        await axios.get('http://api.positionstack.com/v1/forward', {params})\r\n        .then(async response => {\r\n            console.log(response.data.data[0]);\r\n             coordinates ={\r\n                lat: response.data.data[0].latitude,\r\n                lng: response.data.data[0].longitude,\r\n            }  \r\n            await this.setState({coordinates});\r\n            console.log(coordinates);\r\n            console.log(this.state.coordinates.lat)\r\n            console.log(this.state.coordinates)\r\n\r\n        }).catch(error => {\r\n            console.log(error);\r\n        });\r\n        //await this.setState({coords:coordinates});\r\n        //    console.log(this.state.coords);\r\n        \r\n      }\r\n\r\n    schema={\r\n        name:Joi.string().required(),\r\n        description:Joi.string().required(),\r\n        type:Joi.string().required(),\r\n        price:Joi.number().required(),\r\n        city:Joi.string().required(),\r\n        zipcode:Joi.string().required(),\r\n        country:Joi.string().required(),\r\n        room:Joi.number().required().min(1),\r\n        bathroom:Joi.number().required().min(1),\r\n        bedroom:Joi.number().required().min(1),\r\n        kitchen:Joi.number().required(),\r\n        guests:Joi.number().required().min(1),\r\n        tv: Joi.boolean().required(),\r\n        aircon: Joi.boolean().required(),\r\n        wifi: Joi.boolean().required(),\r\n        heat:Joi.boolean().required(),\r\n        pets:Joi.boolean().required(),\r\n        // photo:Joi.array().items(Joi.object().keys().min(3))\r\n        photo:Joi.required()\r\n    };\r\n    Validations = () =>{\r\n        const errors=  {};\r\n        let state={...this.state};\r\n        delete state.errors;\r\n        delete state.files;\r\n        delete state.filesArr;\r\n        delete state.token;\r\n        delete state.isLogin;\r\n        delete state.coordinates;\r\n        var res=Joi.validate(state,this.schema);\r\n        if(res.error === null){\r\n            this.setState({errors:{}});\r\n            return null};\r\n        for (const error of res.error.details){\r\n            errors[error.path]=error.message;\r\n        }\r\n        this.setState({errors:errors})\r\n        console.log(this.state.errors);\r\n    }\r\n      handelSubmit=async e=>{\r\n        e.preventDefault();\r\n        const errors= this.Validations();\r\n        if(errors !== null) return;\r\n        await this.handleClick();\r\n        console.log(this.state.coordinates)\r\n        var address={country:\"egy\",city:\"tanta\"}\r\n        var ins = document.getElementById(\"files\").files.length;\r\n        var formData = new FormData();\r\n        formData.append(\"name\", this.state.name);\r\n        formData.append(\"type\", this.state.type);\r\n        formData.append(\"description\", this.state.description);\r\n        formData.append(\"total_rooms\", this.state.room);\r\n        formData.append(\"total_kitchens\", this.state.kitchen);\r\n        formData.append(\"total_bathrooms\", this.state.bathroom);\r\n        formData.append(\"total_beds\", this.state.bedroom);\r\n        formData.append(\"price\", this.state.price);\r\n        formData.append(\"address[country]\",this.state.country);\r\n        formData.append(\"address[city]\",this.state.city);\r\n        formData.append(\"address[zipcode]\",this.state.zipcode);\r\n        formData.append(\"location[lat]\",this.state.coordinates.lat );\r\n        formData.append(\"location[lng]\",this.state.coordinates.lng );\r\n        formData.append(\"pets\", this.state.pets);\r\n        formData.append(\"has_tv\", this.state.tv);\r\n        formData.append(\"has_wifi\", this.state.wifi);\r\n        formData.append(\"has_heating_system\", this.state.heat);\r\n        formData.append(\"has_airconditioner\", this.state.aircon);\r\n        formData.append(\"max_guests\", this.state.guests);\r\n        for (var x = 0; x < ins; x++) {\r\n            formData.append(\"images[]\", this.state.photo[x]);\r\n            console.log(this.state.photo[x])\r\n        }\r\n        //formData.append(\"images\", this.state.photo);\r\n        for (var key of formData.entries()) {\r\n            console.log(key[0] + \", \" + key[1]);\r\n          }\r\n        let url = \"http://localhost:8080/api/place\";\r\n        await this.props.addplace(formData,url,this.state.token);\r\n        console.log(\"place data\",this.props.placeDetails);\r\n        console.log(\"^^^^^^^^\", this.props.msg.message);\r\n        if(this.props.msg.message === \"place created successfully!\") {\r\n          toast.success('👌 Place added Successfully!', {\r\n            position: \"top-center\",\r\n            autoClose: 5000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: false,\r\n            draggable: true,\r\n            progress: undefined,\r\n            });\r\n            setTimeout(()=>{\r\n                this.props.history.push(`/place-details/${this.props.msg.place._id}`);\r\n            }, 5500)\r\n        }\r\n        // <Redirect push to=\"/\"/>\r\n        \r\n        {/* \r\n        // const  obj={\r\n        // \"user_id\": this.state.UserId,\r\n        // \"type\": this.state.type,\r\n        // \"description\": this.state.description ,\r\n        // \"total_rooms\":  this.state.room,\r\n        // \"total_kitchens\":  this.state.kitchen,\r\n        // \"total_bathrooms\":  this.state.bathroom,\r\n        // \"total_beds\":  this.state.bedroom,\r\n        // \"price\":  this.state.price,\r\n        // \"address\": this.state.address,\r\n        // \"location\": {\r\n        //   \"lat\": \"30.013056\",\r\n        //   \"long\": \"31.208853\"\r\n        // },\r\n        // \"pets\":  this.state.pets,\r\n        // \"has_tv\":  this.state.tv,\r\n        // \"has_wifi\":  this.state.wifi,\r\n        // \"has_heating_system\":  this.state.heat,\r\n        // \"has_air_conditioner\":  this.state.aircon,\r\n        // \"max_guests\":  this.state.guests,\r\n        // \"images\":  this.state.photo}\r\n        // console.log(obj);\r\n        // await axios.post(\"http://localhost:3000/places/\",obj)\r\n        //     .then(response => {\r\n        //         if (response.data.status === \"created\") {\r\n        //         this.props.handleSuccessfulAuth(response.data);\r\n        //         }\r\n        //     })\r\n        //     .catch(error => {\r\n        //         console.log(\"registration error\", error);\r\n        //     });\r\n        //     console.log(\"dome\"); */}\r\n        //this.props.history.push(\"/\");   \r\n    }\r\n    render() { \r\n        return (\r\n            <div id=\"host_form\" className=\"background\" style={{ backgroundImage: \"url(/bg.jpg)\", height:\"100%\" }}>\r\n                <div className=\"background pb-5\" style={{  height:\"100%\" }} >\r\n                <ToastContainer />\r\n                <form  className=\"form-signin\" action=\"\" method=\"POST\">\r\n                <div className=\"container signinClass\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-9 col-md-8 col-lg-8 mx-auto\">\r\n                            <div className=\"card card-signin my-5\">\r\n                                <div className=\" toggel \" onClick={() => this.addActiveClass(\"one\")}>\r\n                                <h5 className=\"card-title text-center\">Place Information  <i className=\"fad fa-angle-down\"></i></h5>\r\n                                </div>\r\n                                <div className=\"card-body\" id=\"one\">\r\n                                    <div className=\"form-label-group\">\r\n                                        <label  className=\"ml-5\">Place Name:</label>\r\n                                        <input name=\"name\" onChange={this.handelchange} type=\"text\" className=\"form-control\" placeholder=\"Enter the Place Name\"  />\r\n                                        {this.state.errors.name && ( <div className=\"alert alert-danger form-control\">{this.state.errors.name}</div> )}\r\n                                    </div>\r\n                                    <div className=\"form-label-group\">\r\n                                        <label className=\"ml-5\">Description:</label>\r\n                                        <textarea name=\"description\" onChange={this.handelchange} className=\"form-control\" rows=\"3\"></textarea>                                \r\n                                        {this.state.errors.description && ( <div className=\"alert alert-danger form-control\">{this.state.errors.description}</div> )}\r\n                                    </div>\r\n                                    <div className=\"form-label-group \">\r\n                                        <label className=\"ml-5 \" >Place Type:</label>\r\n                                        <select name=\"type\" onChange={this.handelchange} className=\"form-control\" id=\"type\">\r\n                                            <option defaultValue>Choose the place type...</option>\r\n                                            <option value=\"apartment\">Apartment</option>\r\n                                            <option value=\"cottage\">Cottage</option>\r\n                                            <option value=\"room\">Room</option>\r\n                                            <option value=\"villa\">Villa</option>\r\n                                        </select>\r\n                                        {this.state.errors.type && ( <div className=\"alert alert-danger form-control\">{this.state.errors.type}</div> )}\r\n                                    </div>\r\n                                    <div className=\"form-label-group\">\r\n                                        <label className=\"ml-5\">Price per Night:</label>\r\n                                        <input  name=\"price\" onChange={this.handelchange} type=\"text\" className=\"form-control\" placeholder=\"$ Enter price\" required />\r\n                                        {this.state.errors.price && ( <div className=\"alert alert-danger form-control\">{this.state.errors.price}</div> )}\r\n                                    \r\n                                    </div>                                                          \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"container signinClass\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-9 col-md-8 col-lg-8 mx-auto\">\r\n                            <div className=\"card card-signin \">\r\n                                <div className=\" toggel \" onClick={() => this.addActiveClass(\"sec\")}>\r\n                                    <h5 className=\"card-title text-center\">Place Location <i className=\"fad fa-angle-down\"></i></h5>\r\n                                </div>\r\n                                <div className=\"card-body\" id=\"sec\">\r\n                                    <div className=\"form-label-group\">\r\n                                        <label className=\"ml-5\">Country:</label>\r\n                                            <input type=\"text\" onChange={this.handelchange} name=\"country\" className=\"form-control\" rows=\"3\" /> \r\n                                            {this.state.errors.country && ( <div className=\"alert alert-danger form-control\">{this.state.errors.city}</div> )}                          \r\n                                    </div>\r\n                                    <div className=\"form-label-group\">\r\n                                        <label className=\"ml-5\">City:</label>\r\n                                            <input type=\"text\" onChange={this.handelchange} name=\"city\" className=\"form-control\" rows=\"3\" /> \r\n                                            {this.state.errors.city && ( <div className=\"alert alert-danger form-control\">{this.state.errors.city}</div> )}                          \r\n                                    </div>\r\n                                    <div className=\"form-label-group\">\r\n                                        <label className=\"ml-5\">Zipcode:</label>\r\n                                            <input type=\"text\" onChange={this.handelchange} name=\"zipcode\" className=\"form-control\" rows=\"3\" /> \r\n                                            {this.state.errors.zipcode && ( <div className=\"alert alert-danger form-control\">{this.state.errors.city}</div> )}                          \r\n                                    </div>                                                           \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"container signinClass\">\r\n                    <div className=\"row\">\r\n                    <div className=\"col-sm-9 col-md-8 col-lg-8 mx-auto\">\r\n                        <div className=\"card card-signin my-5\">\r\n                        <div className=\" toggel \" onClick={() => this.addActiveClass(\"rooms\")}>\r\n                            <h5 className=\"card-title text-center\">Number of Rooms <i className=\"fad fa-angle-down\"></i></h5>\r\n                        </div>\r\n                        <div className=\"card-body\" id=\"rooms\">\r\n                            <div className=\"form-label-group\">\r\n                            <label className=\"ml-5\">Number of Rooms:</label>\r\n                                <div className=\"plus btn\" onClick={() => this.AddNumber(\"room\")}>+</div>\r\n                                <input name=\"room\" ref={this.roomNum} id=\"roomNum\" type=\"text\" className=\"number form-control\"  value={this.state.room} disabled/>\r\n                                <div className=\"minus btn\" onClick={() => this.RemoveNumber(\"room\")}>-</div>\r\n                            </div>\r\n                            {this.state.errors.room && ( <div className=\"alert alert-danger form-control\">{this.state.errors.room}</div> )}\r\n                                    \r\n                            <div className=\"form-label-group\">\r\n                            <label className=\"ml-5\">Number of Bathrooms:</label>\r\n                                <div className=\"plus btn \" onClick={() => this.AddNumber(\"bath\")}>+</div>\r\n                                <input name=\"bathroom\"  ref={this.bathNum} id=\"bathNum\" type=\"text\" className=\"number form-control\"value={this.state.bathroom} disabled/>\r\n                                <div className=\"minus btn\" onClick={() => this.RemoveNumber(\"bath\")}>-</div>\r\n                            </div>\r\n                            {this.state.errors.bathroom && ( <div className=\"alert alert-danger form-control\">{this.state.errors.bathroom}</div> )}\r\n                             \r\n                            <div className=\"form-label-group\">\r\n                            <label className=\"ml-5\">Number of Beds:</label>\r\n                                <div className=\"plus btn \" onClick={() => this.AddNumber(\"bed\")}>+</div>\r\n                                <input name=\"bedroom\" ref={this.bedNum} id=\"bedNum\" type=\"text\" className=\"number form-control\" value={this.state.bedroom} disabled/>\r\n                                <div className=\"minus btn\" onClick={() => this.RemoveNumber(\"bed\")}>-</div>\r\n                            </div>\r\n                            {this.state.errors.bedroom && ( <div className=\"alert alert-danger form-control\">{this.state.errors.bedroom}</div> )}\r\n                             \r\n                            <div className=\"form-label-group\">\r\n                            <label className=\"ml-5\">Number of Kitchens:</label>\r\n                                <div className=\"plus btn \" onClick={() => this.AddNumber(\"kit\")}>+</div>\r\n                                <input name=\"kitchen\"  ref={this.kitNum} id=\"kitNum\" type=\"text\" className=\"number form-control\" value={this.state.kitchen} disabled/>\r\n                                <div className=\"minus btn\" onClick={() => this.RemoveNumber(\"kit\")}>-</div>\r\n                            </div>\r\n                            {this.state.errors.kitchen && ( <div className=\"alert alert-danger form-control\">{this.state.errors.kitchen}</div> )}\r\n                             \r\n                            <div className=\"form-label-group\">\r\n                            <label className=\"ml-5\">Number of Max Guests:</label>\r\n                                <div className=\"plus btn \" onClick={() => this.AddNumber(\"guest\")}>+</div>\r\n                                <input name=\"guests\"  ref={this.maxGuests} id=\"maxGuests\" type=\"text\" className=\"number form-control\" value={this.state.guests} disabled/>\r\n                                <div className=\"minus btn\" onClick={() => this.RemoveNumber(\"guest\")}>-</div>\r\n                            </div>\r\n                            {this.state.errors.guests && ( <div className=\"alert alert-danger form-control\">{this.state.errors.guests}</div> )}\r\n                             \r\n                                                                                     \r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"container signinClass\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-9 col-md-8 col-lg-8 mx-auto\">\r\n                            <div className=\"card card-signin \">\r\n                                <div className=\" toggel \" onClick={() => this.addActiveClass(\"amenities\")}>\r\n                                    <h5 className=\"card-title text-center\">Amenities you Offer <i className=\"fad fa-angle-down\"></i></h5>\r\n                                </div>\r\n                                <div className=\"card-body\" id=\"amenities\">\r\n                                    <div className=\"form-label-group\">\r\n                                    <input className=\"checkboxs\" name=\"tv\" type=\"checkbox\" checked={this.state.tv} onChange={this.handleInputChange} />\r\n                                        <label className=\"ml-5\">Tv</label>                                                                    \r\n                                    </div> \r\n                                    <div className=\"form-label-group\">\r\n                                    <input className=\"checkboxs\" name=\"wifi\" type=\"checkbox\" checked={this.state.wifi} onChange={this.handleInputChange} />\r\n                                        <label className=\"ml-5\">WI FI</label>                                                                    \r\n                                    </div> \r\n                                    <div className=\"form-label-group\">\r\n                                    <input className=\"checkboxs\" name=\"aircon\" type=\"checkbox\" checked={this.state.aircon} onChange={this.handleInputChange} />\r\n                                        <label className=\"ml-5\">Air Conditioner</label>                                                                    \r\n                                    </div>  \r\n                                    <div className=\"form-label-group\">\r\n                                    <input className=\"checkboxs\" name=\"heat\" type=\"checkbox\" checked={this.state.heat} onChange={this.handleInputChange} />\r\n                                        <label className=\"ml-5\">Heat System</label>                                                                    \r\n                                    </div>\r\n                                    <div className=\"form-label-group\">\r\n                                    <input className=\"checkboxs\" name=\"pets\" type=\"checkbox\" checked={this.state.pets} onChange={this.handleInputChange} />\r\n                                        <label className=\"ml-5\">Allow Pets</label>                                                                    \r\n                                    </div>                                                    \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"container signinClass mt-5\">\r\n                    <div className=\"row\">\r\n                    <div className=\"col-sm-9 col-md-8 col-lg-8 mx-auto\">\r\n                        <div className=\"card card-signin \">\r\n                            <div className=\" toggel \" onClick={() => this.addActiveClass(\"photos\")}>\r\n                                <h5 className=\"card-title text-center\">Add Photos <i className=\"fad fa-angle-down\"></i></h5>\r\n                            </div>\r\n                            <div className=\"card-body\" id=\"photos\">\r\n                                <div className=\"form-label-group\">\r\n                                    \r\n                                    <div id=\"lblfile\">\r\n                                        <label  htmlFor=\"files\">\r\n                                            <input name=\"photo\" type=\"file\" id=\"files\" multiple onChange={this.onFileChange}/>\r\n                                        Upload Files\r\n                                        </label>\r\n                                        {this.state.errors.photo && ( <div className=\"alert alert-danger form-control\">{this.state.errors.photo}</div> )}\r\n                             \r\n                                    </div>\r\n                                    <div className=\"files\">\r\n                                        <h2>Files Selected</h2>\r\n                                        <ul id=\"selectedfiles\"></ul>\r\n                                    </div>                             \r\n                                </div>                                                         \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                <button onClick={this.handelSubmit}  style={{ height:\"50px\" }} className=\"btn mybtn btn-lg btn-block text-uppercase submit-button mt-5 col-4 mb-5\" type=\"submit\">Submit</button> \r\n                </form>\r\n                </div>\r\n            </div>\r\n            \r\n\r\n         );\r\n    }\r\n}\r\nconst mapactiontoprops = (disptch) => {\r\n    return bindActionCreators(\r\n      {\r\n        addplace\r\n      },\r\n      disptch\r\n    );\r\n  };\r\n  const mapstatetoprops = (state) => {\r\n    return {\r\n        placeDetails: state.Places,\r\n        msg: state.Places.message\r\n    };\r\n  }\r\nHost.contextType = SessionContext;\r\nexport default connect(mapstatetoprops, mapactiontoprops) (Host);",["176","177"],"E:\\iti\\final pro\\airbnb\\src\\components\\Forms\\editPlace.js",["178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198"],"import React, { Component }  from 'react';\r\n// import React, { Component, createRef }  from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './form.css';\r\n// import { BsCheckAll } from 'react-icons/bs';\r\nimport { MdDelete } from 'react-icons/md';\r\n// import { event } from 'jquery';\r\nimport Joi from 'joi-browser';\r\n// import Joi, { validate } from 'joi-browser';\r\nimport axios from \"axios\";\r\nimport { getPlaceById ,updatePlace } from \"../../actions/places\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {SessionContext ,getSessionCookie} from '../session'\r\n// import { useContext } from \"react\";\r\nvar params = {\r\n    access_key: '6895d17a0165c9fa200e743be896862d',\r\n    query: '1600 Pennsylvania Ave NW'\r\n    }\r\n\r\nclass EditPlace extends Component {\r\n    //static contextType = SessionContext();\r\n    \r\n  \r\n    constructor(props) {\r\n\r\n        super(props);\r\n        this.addActiveClass= this.addActiveClass.bind(this);\r\n        this.roomNum = React.createRef();\r\n        this.bathNum = React.createRef();\r\n        this.bedNum = React.createRef();\r\n        this.kitNum = React.createRef();\r\n        this.maxGuests=React.createRef();\r\n        this.rooms =0;\r\n        const placedata={};\r\n        // const session = getSessionCookie();\r\n        // console.log(session)\r\n        //login session validation\r\n        // this.getUserId=()=>{\r\n        //     for(const data of this.data.data){\r\n        //         if(session.email===data.email){\r\n        //             this.state.UserId=data.id;\r\n        //         }\r\n        //     }\r\n        //   }\r\n         \r\n          this.handleInputChange = this.handleInputChange.bind(this);\r\n        }\r\n        \r\n        state = {\r\n            isLogin: false,\r\n            place_id:\"\",\r\n            placedata:{},\r\n            token: \"\",\r\n            name: \"\",\r\n            description:\"\",\r\n            type:\"\",\r\n            price:\"\",\r\n            city:\"\",\r\n            country:\"\",\r\n            zipcode:\"\",\r\n            room:0,\r\n            bathroom:0,\r\n            bedroom:0,\r\n            kitchen:0,\r\n            guests:0,\r\n            tv: \"\",\r\n            aircon: \"\",\r\n            wifi: \"\",\r\n            heat:\"\",\r\n            pets:\"\",\r\n            photo:{},\r\n            files:[],\r\n            filesArr: [],\r\n            errors:{},\r\n            coordinates :\"\"\r\n        };\r\n        \r\n        \r\n        async componentDidMount(){\r\n            this.setState({token: localStorage.getItem(\"token\")});\r\n            this.setState({UserId: localStorage.getItem(\"user_id\")});\r\n            if(!localStorage.getItem(\"token\")){\r\n                alert(\"please log in frist!\")\r\n            this.props.history.push(\"/login\");\r\n            }\r\n            await this.props.getPlaceById(this.props.match.params.id);\r\n            console.log(\"1111111\", this.props.placeDetails.place_details.place);\r\n            // console.log(\"2222222\", this.props.placeDetails.message);\r\n            // console.log(\"3333333\", this.props.placeDetails.place);\r\n            // console.log(\"2222222\", this.props.placeDetails.address);\r\n            var place= this.props.placeDetails.place_details.place;\r\n            console.log(place);\r\n            this.setState({placedata:place});\r\n            console.log(this.state.placedata)\r\n            console.log(this.state.photo);\r\n            console.log(\"**************\", this.props.placeDetails.name);\r\n            // const address = this.state.address\r\n\r\n            // if(this.state.placedata) {\r\n                this.setState({\r\n                    name:this.state.placedata.name,\r\n                    description:this.state.placedata.description,\r\n                    type:this.state.placedata.type,\r\n                    price:this.state.placedata.price,\r\n                    city:this.state.placedata.address.city,\r\n                    country:this.state.placedata.address.country,\r\n                    zipcode:this.state.placedata.address.zipcode,\r\n                    room:this.state.placedata.total_rooms,\r\n                    bathroom:this.state.placedata.total_bathrooms,\r\n                    bedroom:this.state.placedata.total_beds,\r\n                    kitchen:this.state.placedata.total_kitchens,\r\n                    guests:this.state.placedata.max_guests,\r\n                    tv: this.state.placedata.has_tv,\r\n                    aircon: this.state.placedata.has_airconditioner,\r\n                    wifi: this.state.placedata.has_wifi,\r\n                    heat: this.state.placedata.has_heating_system,\r\n                    pets:this.state.placedata.pets,\r\n                    photo:this.state.placedata.images,\r\n                    coordinates:this.state.placedata.location\r\n                })    \r\n            // }\r\n        }\r\n         //renderfile\r\n         Maping = ()=>{\r\n            var fileMap = this.state.filesArr.map((file, index) => {\r\n                let suffix = \"bytes\";\r\n                let size = file.size;\r\n                if (size >= 1024 && size < 1024000) {\r\n                  suffix = \"KB\";\r\n                  size = Math.round(size / 1024 * 100) / 100;\r\n                } else if (size >= 1024000) {\r\n                  suffix = \"MB\";\r\n                  size = Math.round(size / 1024000 * 100) / 100;\r\n                }\r\n                return (<li key=\"{index}\">{file.name} <span className=\"file-size\">{size} {suffix}</span><MdDelete className=\"delimg\" onClick={() => this.deleteImg({index})}  /></li>)\r\n              });\r\n              \r\n              return(fileMap);\r\n         }\r\n         photomap=()=>{\r\n            var fileMap = this.state.filesArr.map((file, index) => {\r\n                return file.name\r\n            });\r\n            return(fileMap);  \r\n        }\r\n         \r\n          \r\n         RenderFileList() {\r\n            let map=this.Maping();\r\n            ReactDOM.render(map, document.getElementById(\"selectedfiles\"));\r\n        }\r\n        onFileChange =async event => {\r\n            let newfiles = document.getElementById(\"files\").files;\r\n            let newfilesArr = Array.from(newfiles);\r\n            this.state.photo=document.getElementById(\"files\").files;\r\n            console.log(document.getElementById(\"files\").files.length)\r\n            await this.setState({ files: newfiles, filesArr: newfilesArr });\r\n            this.RenderFileList();\r\n        };\r\n        //delete photo\r\n        deleteImg(index){\r\n            console.log(this.state.photo);\r\n            let key = index;\r\n            let curArr = this.state.filesArr;\r\n            let newfiles=new DataTransfer();\r\n            // for (let file of document.getElementById(\"files\").files){\r\n            //     if (file !== document.getElementById(\"files\").files[index]) {\r\n            //         newfiles.items.add(file);\r\n            //     }}\r\n            for (var i = 0; i < document.getElementById(\"files\").files.length; i++) {\r\n                if(i !== key.index){\r\n                var file = document.getElementById(\"files\").files[i];\r\n                console.log(file);\r\n                newfiles.items.add(file);\r\n                }\r\n            }\r\n            curArr.splice(key, 1);\r\n            this.setState({ filesArr: curArr });\r\n            this.state.photo=newfiles.files;\r\n            console.log(this.state.photo);\r\n            this.RenderFileList();\r\n        }\r\n       \r\n        //checkbox change\r\n         handleInputChange=async e=> {\r\n          const target = e.target;\r\n          const value = target.type === 'checkbox' ? target.checked : target.value;\r\n          const targetname = target.name;\r\n          let state={...this.state};\r\n          state[targetname]=value;\r\n          await this.setState(state);\r\n          console.log(this.state);\r\n          console.log(targetname);\r\n        }\r\n        handelchange=e=>{\r\n            this.state.errors[e.currentTarget.name]=null;\r\n            let state={...this.state};\r\n            state[e.currentTarget.name]=e.currentTarget.value;\r\n            this.setState(state)\r\n        }\r\n    \r\n      addActiveClass(i) {\r\n        var x = document.getElementById(i);\r\n        if (x.style.display === \"none\") {\r\n          x.style.display = \"block\";\r\n        } else {\r\n          x.style.display = \"none\";\r\n        }\r\n      }\r\n      AddNumber(type){\r\n        if(type===\"room\"){\r\n            this.roomNum.current.value ++;\r\n            this.state.room+=1;\r\n        }\r\n        else if(type===\"bath\"){\r\n            this.bathNum.current.value ++;\r\n            this.state.bathroom+=1;\r\n        }\r\n        else if(type===\"bed\"){\r\n            this.bedNum.current.value ++;\r\n            this.state.bedroom+=1;\r\n        }\r\n        else if(type===\"kit\"){\r\n            this.kitNum.current.value ++;\r\n            this.state.kitchen+=1;\r\n        }\r\n        else if(type===\"guest\"){\r\n            this.maxGuests.current.value ++;\r\n            this.state.guests+=1;\r\n        }\r\n      }\r\n      RemoveNumber(type){\r\n        if(type==\"room\" &&this.roomNum.current.value>1){\r\n            this.roomNum.current.value --;\r\n            this.state.room-=1;\r\n        }\r\n        else if(type==\"bath\" && this.bathNum.current.value>1){\r\n            this.bathNum.current.value --;\r\n            this.state.bathroom-=1;\r\n        }\r\n        else if(type==\"bed\" && this.bedNum.current.value>1){\r\n            this.bedNum.current.value --;\r\n            this.state.bedroom-=1;\r\n        }\r\n        else if(type==\"kit\" && this.kitNum.current.value>0){\r\n            this.kitNum.current.value --;\r\n            this.state.kitchen-=1;\r\n        }\r\n        else if(type==\"guest\" && this.maxGuests.current.value>1){\r\n            this.maxGuests.current.value --;\r\n            this.state.guests-=1;\r\n        }\r\n      }\r\n      handleClick = async()=>{\r\n        var coordinates ={\r\n            lat: \"\",\r\n            lng: \"\"\r\n        }\r\n        params.query = this.state.country;\r\n        await axios.get('http://api.positionstack.com/v1/forward', {params})\r\n        .then(async response => {\r\n            console.log(response.data.data[0]);\r\n             coordinates ={\r\n                lat: response.data.data[0].latitude,\r\n                lng: response.data.data[0].longitude,\r\n            }  \r\n            await this.setState({coordinates});\r\n            console.log(coordinates);\r\n            console.log(this.state.coordinates.lat)\r\n            console.log(this.state.coordinates)\r\n\r\n        }).catch(error => {\r\n            console.log(error);\r\n        });\r\n        //await this.setState({coords:coordinates});\r\n        //    console.log(this.state.coords);\r\n        \r\n      }\r\n\r\n    schema={\r\n        name:Joi.string().required(),\r\n        description:Joi.string().required(),\r\n        type:Joi.string().required(),\r\n        price:Joi.number().required(),\r\n        city:Joi.string().required(),\r\n        zipcode:Joi.string().required(),\r\n        country:Joi.string().required(),\r\n        room:Joi.number().required().min(1),\r\n        bathroom:Joi.number().required().min(1),\r\n        bedroom:Joi.number().required().min(1),\r\n        kitchen:Joi.number().required(),\r\n        guests:Joi.number().required().min(1),\r\n        tv: Joi.boolean().required(),\r\n        aircon: Joi.boolean().required(),\r\n        wifi: Joi.boolean().required(),\r\n        heat:Joi.boolean().required(),\r\n        pets:Joi.boolean().required(),\r\n        photo:Joi.array().items(Joi.object().keys().min(3))\r\n    };\r\n    Validations = () =>{\r\n        const errors=  {};\r\n        let state={...this.state};\r\n        delete state.errors;\r\n        delete state.files;\r\n        delete state.filesArr;\r\n        delete state.token;\r\n        delete state.isLogin;\r\n        delete state.coordinates;\r\n        delete state.place_id;\r\n        delete state.placedata;\r\n        var res=Joi.validate(state,this.schema);\r\n        if(res.error === null){\r\n            this.setState({errors:{}});\r\n            return null};\r\n        for (const error of res.error.details){\r\n            errors[error.path]=error.message;\r\n        }\r\n        this.setState({errors:errors})\r\n        console.log(this.state.errors);\r\n    }\r\n      handelSubmit=async e=>{\r\n        e.preventDefault();\r\n        const errors= this.Validations();\r\n        if(errors !== null) return;\r\n        await this.handleClick();\r\n        console.log(this.state.coordinates)\r\n        //var address={country:\"egy\",city:\"tanta\"}\r\n        var ins =this.state.photo.length;\r\n        // console.log(\"^^^^^\", this.state.name);\r\n        var formData = new FormData();\r\n        formData.append(\"name\", this.state.name);\r\n        formData.append(\"type\", this.state.type);\r\n        formData.append(\"description\", this.state.description);\r\n        formData.append(\"total_rooms\", this.state.room);\r\n        formData.append(\"total_kitchens\", this.state.kitchen);\r\n        formData.append(\"total_bathrooms\", this.state.bathroom);\r\n        formData.append(\"total_beds\", this.state.bedroom);\r\n        formData.append(\"price\", this.state.price);\r\n        formData.append(\"address[country]\",this.state.country);\r\n        formData.append(\"address[city]\",this.state.city);\r\n        formData.append(\"address[zipcode]\",this.state.zipcode);\r\n        formData.append(\"location[lat]\",this.state.coordinates.lat );\r\n        formData.append(\"location[lng]\",this.state.coordinates.lng );\r\n        formData.append(\"pets\", this.state.pets);\r\n        formData.append(\"has_tv\", this.state.tv);\r\n        formData.append(\"has_wifi\", this.state.wifi);\r\n        formData.append(\"has_heating_system\", this.state.heat);\r\n        formData.append(\"has_airconditioner\", this.state.aircon);\r\n        formData.append(\"max_guests\", this.state.guests);\r\n        for (var x = 0; x < ins; x++) {\r\n            formData.append(\"images[]\", this.state.photo[x]);\r\n            console.log(this.state.photo[x])\r\n        }\r\n        //formData.append(\"images\", this.state.photo);\r\n        for (var key of formData.entries()) {\r\n            console.log(key[0] + \", \" + key[1]);\r\n          }\r\n        let url = \"http://localhost:8080/api/place/\"+this.props.match.params.id;\r\n        console.log(url);\r\n        await this.props.updatePlace(formData,url,this.state.token);\r\n        console.log(\"place data\",this.props.placeDetails);\r\n        // await this.props.history.push(`/place-details/${this.props.match.params.id}`);\r\n        \r\n\r\n        {/* \r\n        // const  obj={\r\n        // \"user_id\": this.state.UserId,\r\n        // \"type\": this.state.type,\r\n        // \"description\": this.state.description ,\r\n        // \"total_rooms\":  this.state.room,\r\n        // \"total_kitchens\":  this.state.kitchen,\r\n        // \"total_bathrooms\":  this.state.bathroom,\r\n        // \"total_beds\":  this.state.bedroom,\r\n        // \"price\":  this.state.price,\r\n        // \"address\": this.state.address,\r\n        // \"location\": {\r\n        //   \"lat\": \"30.013056\",\r\n        //   \"long\": \"31.208853\"\r\n        // },\r\n        // \"pets\":  this.state.pets,\r\n        // \"has_tv\":  this.state.tv,\r\n        // \"has_wifi\":  this.state.wifi,\r\n        // \"has_heating_system\":  this.state.heat,\r\n        // \"has_air_conditioner\":  this.state.aircon,\r\n        // \"max_guests\":  this.state.guests,\r\n        // \"images\":  this.state.photo}\r\n        // console.log(obj);\r\n        // await axios.post(\"http://localhost:3000/places/\",obj)\r\n        //     .then(response => {\r\n        //         if (response.data.status === \"created\") {\r\n        //         this.props.handleSuccessfulAuth(response.data);\r\n        //         }\r\n        //     })\r\n        //     .catch(error => {\r\n        //         console.log(\"registration error\", error);\r\n        //     });\r\n        //     console.log(\"dome\"); */}\r\n        //this.props.history.push(\"/\");   \r\n    }\r\n    render() { \r\n        return (\r\n            <div id=\"host_form\" className=\"background \" style={{ backgroundImage: \"url(/bg.jpg)\", height:\"100%\" }}>\r\n                <div className=\"background pt-5 pb-5\" style={{  height:\"100%\" }} >\r\n                    <h1 className=\"text-center pt-5\">Edit Your Place Information</h1>\r\n                <form  className=\"form-signin\" action=\"\" method=\"POST\">\r\n                <div className=\"container signinClass \">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-9 col-md-12 col-lg-8 mx-auto\">\r\n                            <div className=\"card card-signin my-5\">\r\n                                <div className=\" toggel \" onClick={() => this.addActiveClass(\"one\")}>\r\n                                <h5 className=\"card-title text-center\">Place Information  <i className=\"fad fa-angle-down\"></i></h5>\r\n                                </div>\r\n                                <div className=\"card-body\" id=\"one\">\r\n                                    <div className=\"form-label-group\">\r\n                                        <label  className=\"ml-5\">Place Name:</label>\r\n                                        <input name=\"name\" onChange={this.handelchange} type=\"text\" className=\"form-control\" value={this.state.name} placeholder=\"Enter the Place Name\"  />\r\n                                        {this.state.errors.name && ( <div className=\"alert alert-danger form-control\">{this.state.errors.name}</div> )}\r\n                                    </div>\r\n                                    <div className=\"form-label-group\">\r\n                                        <label className=\"ml-5\">Description:</label>\r\n                                        <textarea name=\"description\" onChange={this.handelchange} value={this.state.description} className=\"form-control\" rows=\"3\"></textarea>                                \r\n                                        {this.state.errors.description && ( <div className=\"alert alert-danger form-control\">{this.state.errors.description}</div> )}\r\n                                    </div>\r\n                                    <div className=\"form-label-group \">\r\n                                        <label className=\"ml-5 \" >Place Type:</label>\r\n                                        <select name=\"type\" onChange={this.handelchange} value={this.state.type} className=\"form-control\" id=\"type\">\r\n                                            <option defaultValue>Choose the place type...</option>\r\n                                            <option value=\"apartment\">Apartment</option>\r\n                                            <option value=\"cottage\">Cottage</option>\r\n                                            <option value=\"room\">Room</option>\r\n                                            <option value=\"villa\">Villa</option>\r\n                                        </select>\r\n                                        {this.state.errors.type && ( <div className=\"alert alert-danger form-control\">{this.state.errors.type}</div> )}\r\n                                    </div>\r\n                                    <div className=\"form-label-group\">\r\n                                        <label className=\"ml-5\">Price per Night:</label>\r\n                                        <input  name=\"price\" onChange={this.handelchange} value={this.state.price} type=\"text\" className=\"form-control\" placeholder=\"$ Enter price\" required />\r\n                                        {this.state.errors.price && ( <div className=\"alert alert-danger form-control\">{this.state.errors.price}</div> )}\r\n                                    \r\n                                    </div>                                                          \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"container signinClass\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-9 col-md-12 col-lg-8 mx-auto\">\r\n                            <div className=\"card card-signin \">\r\n                                <div className=\" toggel \" onClick={() => this.addActiveClass(\"sec\")}>\r\n                                    <h5 className=\"card-title text-center\">Place Location <i className=\"fad fa-angle-down\"></i></h5>\r\n                                </div>\r\n                                <div className=\"card-body\" id=\"sec\">\r\n                                    <div className=\"form-label-group\">\r\n                                        <label className=\"ml-5\">Country:</label>\r\n                                            <input type=\"text\" onChange={this.handelchange} value={this.state.country} name=\"country\" className=\"form-control\" rows=\"3\" /> \r\n                                            {this.state.errors.country && ( <div className=\"alert alert-danger form-control\">{this.state.errors.city}</div> )}                          \r\n                                    </div>\r\n                                    <div className=\"form-label-group\">\r\n                                        <label className=\"ml-5\">City:</label>\r\n                                            <input type=\"text\" onChange={this.handelchange} value={this.state.city} name=\"city\" className=\"form-control\" rows=\"3\" /> \r\n                                            {this.state.errors.city && ( <div className=\"alert alert-danger form-control\">{this.state.errors.city}</div> )}                          \r\n                                    </div>\r\n                                    <div className=\"form-label-group\">\r\n                                        <label className=\"ml-5\">Zipcode:</label>\r\n                                            <input type=\"text\" onChange={this.handelchange} value={this.state.zipcode} name=\"zipcode\" className=\"form-control\" rows=\"3\" /> \r\n                                            {this.state.errors.zipcode && ( <div className=\"alert alert-danger form-control\">{this.state.errors.city}</div> )}                          \r\n                                    </div>                                                           \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"container signinClass\">\r\n                    <div className=\"row\">\r\n                    <div className=\"col-sm-9 col-md-12 col-lg-8 mx-auto\">\r\n                        <div className=\"card card-signin my-5\">\r\n                        <div className=\" toggel \" onClick={() => this.addActiveClass(\"rooms\")}>\r\n                            <h5 className=\"card-title text-center\">Number of Rooms <i className=\"fad fa-angle-down\"></i></h5>\r\n                        </div>\r\n                        <div className=\"card-body\" id=\"rooms\">\r\n                            <div className=\"form-label-group\">\r\n                            <label className=\"ml-5\">Number of Rooms:</label>\r\n                                <div className=\"plus btn\" onClick={() => this.AddNumber(\"room\")}>+</div>\r\n                                <input name=\"room\" ref={this.roomNum} id=\"roomNum\" type=\"text\" className=\"number form-control\"  value={this.state.room} disabled/>\r\n                                <div className=\"minus btn\" onClick={() => this.RemoveNumber(\"room\")}>-</div>\r\n                            </div>\r\n                            {this.state.errors.room && ( <div className=\"alert alert-danger form-control\">{this.state.errors.room}</div> )}\r\n                                    \r\n                            <div className=\"form-label-group\">\r\n                            <label className=\"ml-5\">Number of Bathrooms:</label>\r\n                                <div className=\"plus btn \" onClick={() => this.AddNumber(\"bath\")}>+</div>\r\n                                <input name=\"bathroom\"  ref={this.bathNum} id=\"bathNum\" type=\"text\" className=\"number form-control\"value={this.state.bathroom} disabled/>\r\n                                <div className=\"minus btn\" onClick={() => this.RemoveNumber(\"bath\")}>-</div>\r\n                            </div>\r\n                            {this.state.errors.bathroom && ( <div className=\"alert alert-danger form-control\">{this.state.errors.bathroom}</div> )}\r\n                             \r\n                            <div className=\"form-label-group\">\r\n                            <label className=\"ml-5\">Number of Beds:</label>\r\n                                <div className=\"plus btn \" onClick={() => this.AddNumber(\"bed\")}>+</div>\r\n                                <input name=\"bedroom\" ref={this.bedNum} id=\"bedNum\" type=\"text\" className=\"number form-control\" value={this.state.bedroom} disabled/>\r\n                                <div className=\"minus btn\" onClick={() => this.RemoveNumber(\"bed\")}>-</div>\r\n                            </div>\r\n                            {this.state.errors.bedroom && ( <div className=\"alert alert-danger form-control\">{this.state.errors.bedroom}</div> )}\r\n                             \r\n                            <div className=\"form-label-group\">\r\n                            <label className=\"ml-5\">Number of Kitchens:</label>\r\n                                <div className=\"plus btn \" onClick={() => this.AddNumber(\"kit\")}>+</div>\r\n                                <input name=\"kitchen\"  ref={this.kitNum} id=\"kitNum\" type=\"text\" className=\"number form-control\" value={this.state.kitchen} disabled/>\r\n                                <div className=\"minus btn\" onClick={() => this.RemoveNumber(\"kit\")}>-</div>\r\n                            </div>\r\n                            {this.state.errors.kitchen && ( <div className=\"alert alert-danger form-control\">{this.state.errors.kitchen}</div> )}\r\n                             \r\n                            <div className=\"form-label-group \">\r\n                            <label className=\"ml-5 \">Number of Max Guests:</label>\r\n                                <div className=\"plus btn \" onClick={() => this.AddNumber(\"guest\")}>+</div>\r\n                                <input name=\"guests\"  ref={this.maxGuests} id=\"maxGuests\" type=\"text\" className=\"number form-control\" value={this.state.guests} disabled/>\r\n                                <div className=\"minus btn\" onClick={() => this.RemoveNumber(\"guest\")}>-</div>\r\n                            </div>\r\n                            {this.state.errors.guests && ( <div className=\"alert alert-danger form-control\">{this.state.errors.guests}</div> )}\r\n                             \r\n                                                                                     \r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"container signinClass\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-9 col-md-12 col-lg-8 mx-auto\">\r\n                            <div className=\"card card-signin \">\r\n                                <div className=\" toggel \" onClick={() => this.addActiveClass(\"amenities\")}>\r\n                                    <h5 className=\"card-title text-center\">Amenities you Offer <i className=\"fad fa-angle-down\"></i></h5>\r\n                                </div>\r\n                                <div className=\"card-body\" id=\"amenities\">\r\n                                    <div className=\"form-label-group\">\r\n                                    <input className=\"checkboxs\" name=\"tv\" type=\"checkbox\" checked={this.state.tv} onChange={this.handleInputChange} />\r\n                                        <label className=\"ml-5\">Tv</label>                                                                    \r\n                                    </div> \r\n                                    <div className=\"form-label-group\">\r\n                                    <input className=\"checkboxs\" name=\"wifi\" type=\"checkbox\" checked={this.state.wifi} onChange={this.handleInputChange} />\r\n                                        <label className=\"ml-5\">WI FI</label>                                                                    \r\n                                    </div> \r\n                                    <div className=\"form-label-group\">\r\n                                    <input className=\"checkboxs\" name=\"aircon\" type=\"checkbox\" checked={this.state.aircon} onChange={this.handleInputChange} />\r\n                                        <label className=\"ml-5\">Air Conditioner</label>                                                                    \r\n                                    </div>  \r\n                                    <div className=\"form-label-group\">\r\n                                    <input className=\"checkboxs\" name=\"heat\" type=\"checkbox\" checked={this.state.heat} onChange={this.handleInputChange} />\r\n                                        <label className=\"ml-5\">Heat System</label>                                                                    \r\n                                    </div>\r\n                                    <div className=\"form-label-group\">\r\n                                    <input className=\"checkboxs\" name=\"pets\" type=\"checkbox\" checked={this.state.pets} onChange={this.handleInputChange} />\r\n                                        <label className=\"ml-5\">Allow Pets</label>                                                                    \r\n                                    </div>                                                    \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"container signinClass mt-5\">\r\n                    <div className=\"row\">\r\n                    <div className=\"col-sm-9 col-md-12 col-lg-8 mx-auto\">\r\n                        <div className=\"card card-signin \">\r\n                            <div className=\" toggel \" onClick={() => this.addActiveClass(\"photos\")}>\r\n                                <h5 className=\"card-title text-center\">Uplode New Photos <i className=\"fad fa-angle-down\"></i></h5>\r\n                            </div>\r\n                            <div className=\"card-body\" id=\"photos\">\r\n                                <div className=\"form-label-group\">\r\n                                    \r\n                                    <div id=\"lblfile\">\r\n                                        <label  htmlFor=\"files\">\r\n                                            <input name=\"photo\" type=\"file\" id=\"files\" multiple onChange={this.onFileChange}/>\r\n                                        Upload Files\r\n                                        </label>\r\n                                        {this.state.errors.photo && ( <div className=\"alert alert-danger form-control\">{this.state.errors.photo}</div> )}\r\n                             \r\n                                    </div>\r\n                                    <div className=\"files\">\r\n                                        <h2>Files Selected</h2>\r\n                                        <ul id=\"selectedfiles\"></ul>\r\n                                    </div>                             \r\n                                </div>                                                         \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                <button onClick={this.handelSubmit}  style={{ height:\"50px\" }} className=\"btn mybtn btn-lg btn-block text-uppercase submit-button mt-5 col-4 mb-5\" type=\"submit\">Save Changes</button> \r\n                </form>\r\n                </div>\r\n            </div>\r\n            \r\n\r\n         );\r\n    }\r\n}\r\nconst mapactiontoprops = (disptch) => {\r\n    return bindActionCreators(\r\n      {\r\n        updatePlace,\r\n        getPlaceById\r\n      },\r\n      disptch\r\n    );\r\n  };\r\n  const mapstatetoprops = (state) => {\r\n    return {\r\n        placeDetails: state.Places   \r\n    };\r\n  }\r\nexport default connect(mapstatetoprops, mapactiontoprops) (EditPlace);","E:\\iti\\final pro\\airbnb\\src\\components\\profile\\profile.js",["199","200","201","202","203","204","205","206","207","208","209","210","211","212","213"],"import React, { Component } from \"react\";\r\nimport Joi, { validate } from \"joi-browser\";\r\nimport { NavLink as Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nimport { getAllPlaces,getPlaceById } from \"../../actions/places\";\r\nimport {\r\n  getAllWishlists,\r\n  // getWishlistsByUserId,\r\n  deleteWishlistById,\r\n  getWishlistsByUserId,\r\n  getWishlistByID,\r\n  \r\n} from \"../../actions/wishlists\";\r\nimport \"./profile.css\";\r\nimport {  getReservationByID } from \"../../actions/reservations\";\r\nimport {  updateClient , getclientById , updatePassword } from \"../../actions/clients\";\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { FaStar, FaTv, FaWifi, FaFan, FaHeart } from \"react-icons/fa\";\r\nimport { MdPets } from \"react-icons/md\";\r\nimport { GiHeatHaze } from \"react-icons/gi\";\r\nimport { AiFillEdit } from \"react-icons/ai\";\r\nimport { HiOutlineMail } from \"react-icons/hi\";\r\nimport { ImPhone } from \"react-icons/im\";\r\nimport Cards from \"../home/places-cards\";\r\n\r\nclass ViewProfile extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      User_wishlists: [],\r\n      Places: [],\r\n      reserve_Places: [],\r\n      All_User_places:[],\r\n      name: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n      isLogin: true,\r\n      token: \"\",\r\n      user: {},\r\n      old_pass:\"\",\r\n      new_pass:\"\",\r\n      profile_image:\"\",\r\n      errors : []\r\n     \r\n\r\n\r\n    };\r\n   \r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({token: localStorage.getItem(\"token\")}); \r\n    console.log(\"here token:  \",localStorage.getItem(\"token\"));\r\n    if(!localStorage.getItem(\"token\")){\r\n      this.setState({isLogin:false});\r\n      this.props.history.push(\"/login\");\r\n    }\r\n\r\n    else{\r\n\r\n      await this.props.getclientById(localStorage.getItem(\"token\"));\r\n      if(this.props.client.message === \"jwt expired\"){\r\n        this.props.history.push(\"/login\");\r\n      }\r\n      this.setState({user: this.props.client.user });\r\n      await this.get_Wishlist_places();\r\n      await this.get_Trips_places();\r\n      await this.get_user_places();\r\n      console.log(\".......\",this.state.reserve_Places);\r\n    }\r\n\r\n  }\r\n\r\n\r\n  get_Wishlist_places = async() => {\r\n    var arr = [];\r\n    var place = null;\r\n    console.log(\"userWishslits:   \" , this.state.user.wishlists);\r\n    \r\n    if (this.state.user.wishlists && this.state.user.wishlists.length > 0) {\r\n\r\n        await this.state.user.wishlists.map(async (wishlist_id) => {\r\n         await this.props.getWishlistByID(this.state.token,wishlist_id);\r\n        // console.log(\"............\" , this.props.wishlistDetails.wishlist);\r\n          var wishlistItem =  this.props.wishlistDetails.wishlist.place_id\r\n        await this.props.getPlaceById(wishlistItem);\r\n        var placeItem = this.props.placeDetails.place\r\n          // arr.push(placeItem);\r\n          this.setState((state) => {\r\n          const Places = state.Places.push(placeItem);\r\n          return Places;\r\n      })\r\n   \r\n      });\r\n\r\n      \r\n    }\r\n\r\n  };\r\n \r\n\r\n  get_Trips_places = async() => {\r\n    var arr = [];\r\n    var place = null;\r\n    console.log(\"userTrips:   \" , this.state.user.reservations);\r\n    \r\n    if (this.state.user.reservations && this.state.user.reservations.length > 0) {\r\n        await this.state.user.reservations.map(async(reservation_id) => {\r\n         await this.props.getReservationByID(this.state.token,reservation_id);\r\n        // console.log(\"............\" , this.props.wishlistDetails.wishlist);\r\n        var reservationItem =  this.props.reservationDetails.reservation.place_id\r\n        await this.props.getPlaceById(reservationItem);\r\n        var placeItem = this.props.placeDetails.place\r\n          // arr.push(placeItem);\r\n          this.setState((state) => {\r\n          const reserve_Places = state.reserve_Places.push(placeItem);\r\n          return reserve_Places;\r\n      })\r\n   \r\n      });\r\n\r\n      \r\n    }\r\n\r\n  };\r\n\r\n  get_user_places = async() =>{\r\n    var arr = [];\r\n    var place = null;\r\n    console.log(\"userTrips:   \" , this.state.user.places);\r\n    \r\n    if (this.state.user.places && this.state.user.places.length > 0) {\r\n\r\n        await this.state.user.places.map(async(place_id) => {\r\n        await this.props.getPlaceById(place_id);\r\n        var placeItem = this.props.placeDetails.place;\r\n          // arr.push(placeItem);\r\n          this.setState((state) => {\r\n          const All_User_places = state.All_User_places.push(placeItem);\r\n          return All_User_places;\r\n      })\r\n   \r\n      });\r\n\r\n      \r\n    }\r\n  }\r\n \r\n\r\n  ///////////////////////////////////////////////////////////\r\n\r\n\r\n\r\n  renderPlaces = () => {\r\n    return (\r\n      <Cards cards={this.state.All_User_places}/>\r\n    )\r\n    // return this.state.All_User_places.slice(0, 3).map((placeElement, index) => {\r\n    //   if (placeElement) {\r\n    //     return (\r\n          // <div className=\"col-9 col-sm-6 col-lg-4 mt-4\" key={placeElement._id}>\r\n          //   <div className=\"card-item\">\r\n          //     <Link\r\n          //         to={`/place-details/${placeElement._id}`}\r\n          //       className=\"card-item-highlight\"\r\n          //       style={{\r\n          //         backgroundImage: `url(http://localhost:8080/${placeElement.images[0]})`\r\n          //       }}\r\n          //     >\r\n          //       <h3 className=\"card-item-name\">\r\n          //         {placeElement.name}\r\n          //         <br />\r\n          //         {this.icons(placeElement)}\r\n          //       </h3>\r\n          //       <h4 className=\"card-item-type\">{placeElement.type}</h4>\r\n          //     </Link>\r\n          //     <div className=\"card-item-details\">\r\n          //       <h4>\r\n          //         {placeElement.address.city}, {placeElement.address.country}\r\n          //       </h4>\r\n          //       <p className=\"desc\">{placeElement.description}</p>\r\n          //       <p className=\"price\">${placeElement.price}</p>\r\n          //       <p className=\"rating\">\r\n          //         <FaStar />\r\n          //         &nbsp;4.8\r\n          //       </p>\r\n          //       {/* {this.renderRating(this.state.Places[index]._id)} */}\r\n          //     </div>\r\n          //   </div>\r\n          // </div>\r\n        \r\n        // );\r\n      // }\r\n    // });\r\n  };\r\n\r\n  renderWishlist = () => {\r\n    document.title = \"Profile\";\r\n    // var i = 0;\r\n    console.log(\"Wishlist_Places: \" , this.state.Places);\r\n    // if(this.state.wishlists > 0) {\r\n    if(this.state.user.wishlists) {\r\n    return this.state.user.wishlists.slice(0, 3).map((wishlist_Element,index) => {\r\n      console.log(\"aaaaaaaaaaaaaa:  \", wishlist_Element);\r\n\r\n      if (this.state.Places[index]) {\r\n        var flag = false;\r\n        if(this.state.Places[index].address !==\"undefined\" && this.state.Places[index].address!==\"undefined\" ){\r\n          flag = true\r\n        }\r\n        return (\r\n          <div\r\n            className=\"col-9 col-sm-6 col-lg-4 mt-4\"\r\n            key={wishlist_Element._id}\r\n          >\r\n            <div className=\"card-item\">\r\n              <div\r\n                className=\"card-item-highlight\"\r\n                style={{\r\n                  backgroundImage: `url('http://localhost:8080/${this.state.Places[index].images[0]}')`,\r\n                }}\r\n              >\r\n                <h3 className=\"card-item-name\">\r\n                  {this.state.Places[index].name}\r\n                  <br />\r\n                  {this.icons(this.state.Places[index])}\r\n                </h3>\r\n                <h4 className=\"card-item-type\">{this.state.Places[index].type}</h4>\r\n                <FaHeart\r\n                  className=\"wishlist-icon\"\r\n                  title=\"Remove from wishlist\"\r\n                  onClick={() => {\r\n                    this.setState({ isWishlisted: !this.state.isWishlisted });\r\n                    console.log(\"klklll:    \",wishlist_Element);\r\n                    this.props.deleteWishlistById(this.state.token,wishlist_Element);\r\n                    this.renderWishlist();\r\n                    window.location.reload();\r\n\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"card-item-details\">\r\n                \r\n                  {flag  &&(\r\n                    <h4>\r\n                  {this.state.Places[index].address.city},{\" \"}\r\n                  {this.state.Places[index].address.country}\r\n                </h4>\r\n\r\n                  )}\r\n                <p className=\"desc\">{this.state.Places[index].description}</p>\r\n                <p className=\"price\">${this.state.Places[index].price}</p>\r\n                <p className=\"rating\">\r\n                  <FaStar />\r\n                  &nbsp;4.8\r\n                </p>\r\n                {/* {this.renderRating(this.state.Places[index]._id)} */}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    });\r\n    }\r\n  };\r\n  renderTrips = () => {\r\n    if(this.state.user.reservations) {\r\n      return this.state.user.reservations.slice(0, 4).map(\r\n      (reservation_Element, index) => {\r\n        if (this.state.reserve_Places[index]) {\r\n          // console.log(\"jjjj: \" ,this.state.reserve_Places[index]);\r\n          return (\r\n            <div className=\" col-9 col-sm-6  col-lg-4 mt-4 \" key={index}>\r\n              <div className=\" card-item card-item-sm \">\r\n                <Link\r\n                  to={`/place-details/${this.state.reserve_Places[index]._id}`}\r\n                  className=\"card-item-bg\"\r\n                  style={{\r\n                    backgroundImage: `url('http://localhost:8080/${this.state.reserve_Places[index].images[0]}')`,\r\n                  }}\r\n                >\r\n\r\n                  <h3 className=\"card-item-name\">\r\n                    {this.state.reserve_Places[index].name}\r\n                  </h3>\r\n                  <h4 className=\"card-item-type\">{this.state.reserve_Places[index].type}</h4>\r\n                </Link>\r\n                {/* <AiOutlineHeart /> */}\r\n              </div>\r\n            </div>\r\n          );\r\n        }\r\n      }\r\n    );\r\n    }\r\n  };\r\n\r\n  icons = (place) => {\r\n    return (\r\n      <>\r\n        {place.has_tv && <FaTv className=\"feature-icon\" />}\r\n        {place.has_wifi && <FaWifi className=\"feature-icon\" />}\r\n        {place.pets && <MdPets className=\"feature-icon\" />}\r\n        {place.has_air_conditioner && <FaFan className=\"feature-icon\" />}\r\n        {place.has_heating_system && <GiHeatHaze className=\"feature-icon\" />}\r\n      </>\r\n    );\r\n  };\r\n\r\n  schema = {\r\n    name: Joi.string().required(),\r\n    phone: Joi.string().required(),\r\n  };\r\n  validation =(state) =>{\r\n    const errors = {};\r\n    var myState = {...state};\r\n    // delete myState.User_wishlists;\r\n    // delete myState.Places;\r\n    // delete myState.reserve_Places;\r\n    // delete myState.All_User_places;\r\n    // delete myState.isLogin;\r\n    // delete myState.token;\r\n    // delete myState.new_pass;\r\n    // delete myState.user;\r\n    // delete myState.old_pass;\r\n    delete myState.profile_image;\r\n\r\n    var res = Joi.validate(myState, this.schema, { abortEarly: false });\r\n    if (res.error === null) {\r\n      this.setState({ errors: {} });\r\n      return null;\r\n    }\r\n    for (const error of res.error.details) {\r\n      errors[error.path] = error.message;\r\n    }\r\n    console.log(res.error.details);\r\n    console.log(state);\r\n    this.setState({ errors: errors });\r\n    console.log(this.state.errors.Password);\r\n\r\n\r\n  }\r\n\r\n  handleUpdate = ()=>{\r\n\r\n    var client = {\r\n      name: this.state.name,    \r\n      phone: this.state.phone,\r\n      profile_image:this.state.profile_image,\r\n    };\r\n\r\n    if(!this.state.name){\r\n      client.name = this.state.user.name\r\n    }\r\n    if(!this.state.phone){\r\n      client.phone = this.state.user.phone\r\n    }\r\n    if(!this.state.profile_image){\r\n      client.profile_image = this.state.user.profile_image\r\n      console.log(\"typeof:   \", typeof(client.profile_image));\r\n    }\r\n    \r\n    var flag = true;\r\n    if(!client.name.match(/^[a-z A-Z]+$/) )\r\n    {\r\n      flag = false;\r\n      document.getElementById(\"nameError\").innerHTML=\"Name must be letters\";\r\n    }\r\n    if(!client.phone.match(/^[0-9]+$/) )\r\n    {\r\n      flag = false;\r\n      document.getElementById(\"phoneError\").innerHTML=\"Not Valid\";\r\n    }\r\n    if(flag){\r\n      // this.setState({profile_image: e.target.files[0]});\r\n      // client.profile_image =  \r\n      var formData = new FormData();\r\n      formData.append(\"name\", client.name);\r\n      formData.append(\"phone\", client.phone);\r\n      formData.append(\"profile_image\", client.profile_image);\r\n      console.log(\"yes\" , client);\r\n            \r\n      var confirm = window.confirm(\"are you sure you want to update\");\r\n      if(confirm){\r\n        this.props.updateClient(this.state.token,formData );\r\n        toast('Updating... 😇', {\r\n          position: \"top-center\",\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: false,\r\n          draggable: true,\r\n          progress: undefined,\r\n          });\r\n          setTimeout(()=>{\r\n            window.location.reload();\r\n        }, 5500)\r\n      }      \r\n    }\r\n  }\r\n  handleUpdatePassword = ()=>{\r\n    var clientPasswords = {\r\n      oldPassword:this.state.old_pass,\r\n      newPassword:this.state.new_pass\r\n    }\r\n    var check = true;\r\n    if(!clientPasswords.oldPassword && clientPasswords.newPassword)\r\n    {\r\n      check = false;\r\n      document.getElementById(\"old_pass_Error\").innerHTML=\"you should enter your old password\";\r\n    }\r\n    if(clientPasswords.oldPassword && !clientPasswords.newPassword)\r\n    {\r\n      check = false;\r\n      document.getElementById(\"old_pass_Error\").innerHTML=\"you should enter your new password\";\r\n    }\r\n    if(check){\r\n      this.props.updatePassword(this.state.token , clientPasswords);\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container--fluid hero\">\r\n        <ToastContainer />\r\n        <div\r\n          style={{\r\n            // backgroundImage: `url('https://cdn.pixabay.com/photo/2017/07/29/13/24/background-2551501_960_720.jpg')`,\r\n            backgroundImage: `url('/images/pexels-photo-2088203.jpeg')`,\r\n            backgroundRepeat: \"no-repeat\",\r\n            backgroundSize: \"cover\",\r\n            backgroundPosition: \"bottom\",\r\n          }}\r\n          className=\"bg-light about-content\"\r\n        >\r\n          <div className=\"row justify-content-center mt-5\">\r\n            <div className=\"mt-4 text-center\">\r\n            {\r\n                this.state.user.profile_image ?(\r\n                  <div className=\"user_img \" \r\n                  style={{\r\n                  // backgroundImage: `url('https://i.stack.imgur.com/l60Hf.png')`,\r\n                  backgroundImage:`url('http://localhost:8080/${this.state.user.profile_image}')`,\r\n                  backgroundRepeat: \"no-repeat\",\r\n                  backgroundSize: \"cover\",\r\n                  backgroundPosition: \"center\",\r\n                }}>\r\n                  </div>\r\n                ):(\r\n                  <div className=\"user_img \" \r\n                  style={{\r\n                  // backgroundImage: `url('https://i.stack.imgur.com/l60Hf.png')`,\r\n                  backgroundImage:`url('data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBw8HDxEQEBEPEBEPEBIQEw8OEBAODhAQFREXFhUVExUYHSggGholGxUVITEhKiorLi4uFx8/ODMsNygtLisBCgoKDQ0OGhAPFysZFx0rKysrKy03Ny0rLSsrKy03Ny0rKy0rKysrNysrKy0rKy0tKysrLSstKystKysrKysrK//AABEIAOEA4QMBIgACEQEDEQH/xAAaAAEBAAMBAQAAAAAAAAAAAAAABgIEBQMB/8QAOhABAAIAAwUECAQDCQAAAAAAAAECAwQRBRIhMVFBYXGRBhQiMoGhscETQnLhUpLRIzNDYnOCssLw/8QAFwEBAQEBAAAAAAAAAAAAAAAAAAIBA//EABkRAQEAAwEAAAAAAAAAAAAAAAABAhESMf/aAAwDAQACEQMRAD8AuQHRyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB9rWbzEREzM8IiOcqDZ+xq4cRbEiLWn8v5a/wBWW6bJtPRE24Rx8G1h7PxsXlh2+Mbv1VeHhVw/diI8IiPozZ0rlMRsXHnsrHjZjfY+PT8sT+m0fdUjOqcxE4mHbCnS0TWekxpLFYZzKUzdd20eE9sT1hN5/Z98lPHjWeVo5fHpKpdss00wGpAAAAAAAAAAAAAAAAAAAdXYWSjHmb2jWtJ0iOybc/l9xsdDZGzoy1YvaPbtH8sdPF0wc1yAA0AAY4lIxImJiJieExPJkAldqZCcnbhxpblPTulorDO5eM1SaT2xwnpPZKQvWaTMTwmJmJjpMLlRlHwBqQAAAAAAAAAAAAAAABWbIw/wsGkda73nxSazy9d2lY6VrHyTkrF6gJWAAAAAAJTbNNzHvw010nx1hVpz0jnXFr3Uj6y2Jy8coBaAAAAAAAAAAAAAAAAHyVvTlHhCJWOSxozGHW8dseU9sJyVi9wErAAAAAAEntfE/Ex7907vlCrRubtvYl563tPnaVYpyeQCkAAAAAAAAAAAAAAAAPfIZf1rErSeETPHTnpEa8FVlMtGUruVmZjWZ9rjPFM7JvuY+H+rTziYVqcl4gCVAAAAAAPHNb80mKab0xpGs6RHekcxgWy1praNJj4xMd0rRLbdvvY9u6Ij5a/duKcmgAtAAAAAAAAAAAAAAAADLDvOHMWjnWYmPhKywMWMesWrxiY1Rbe2Xnb5a8Vida2tETWeXGdNYZYqXSqAQsAAAABjiXjDiZnlETM+EA+zOiPz+LGNi3tHKbTp4cnQ2jtn8es0w4mInnaecx0hyFSItAFJAAAAAAAAAAAAAAAAH2J3ePTi+ALal4vETHbET5snM2DmJxsLSf8ADnd17tOH9HTc3WAAAADT2vifhYN56xu/zcG44PpJjzrSnZpvT9I+7YyuKAtzAAAAAAAAAAAAAAAAAAAZ4WFbGmK1iZmeyAd70br/AGd563+kQ67U2blPU8OK855z01ltuddIADQABPekldL0nrWY8p/dQtDa2Q9drGnC1ddNeU684lsZUsM8XCtgzu2iYmOyWC3MAAAAAAAAAAAAAAHpgYF8edKVm090cvHo6mW2Fa3HEtu/5a8Z8+TNt0473wMni5j3aWnv00jzngpsvs3BwOVYmetvan5trRnSuXBy+wbTxxLRHdXjPm7GVylMrGlK6d/OZ8Ze4zbZJABjQAAAAAGvm8pTNxpaPCY96PCU9ndlYmW1mI369axxjxhUjZWWbQ4q83szCzPGY0t/FXhPx6uPmti4mDxr7cd3C3kraea5g+2rNJ0mJiekxpL41IAAAAAAAA62y9k/jxF8TWK9leU27+6HlsXI+tX3re5T526KaE2qxjHCwq4MaViIiOyI0ZglYAAAAAAAAAAAAAAADyx8tTMRpesW8Y4/CXJzewonjhW0n+G3GPhLtjds0isXDtgzNbRMTHZLBW7QyNc7XSeFo923bH7JbHwbZe01tGkx/wC4KlRZp5gNYAAA9crXfxKR1vWPnAKrZ2X9Wwq17dNZ/VPNsg5uoAAAAAAAAAAAAAAAAAAAA5u2sl6zTeiPbpGvjHbDpEhUONraeB6vi3rHLXWPCeLVdHIAAbeya7+Ph/q18omWo6WwKb2Nr0rafpH3K2KWH0HN0AAAAAAAAAAAAAAAAAAAAAATXpDXTGietI+sw5jsekldL0nrWY8p/dx1zxzvoA1g6vo5/e2/05/5VBlbFGAh0AAAAAAAAAAAAAAAAAAAAAAcL0m54X+//q4gLnjnfQBrH//Z')`,\r\n                  backgroundRepeat: \"no-repeat\",\r\n                  backgroundSize: \"cover\",\r\n                  backgroundPosition: \"center\",\r\n                }}>\r\n              {/* <img src=\"http://localhost:8080/images/Alaa.jpg\" /> */}\r\n                  </div>\r\n                )\r\n              }\r\n              <p className=\"about-text h2\">{this.state.user.name}</p>\r\n              <p className=\"about-text h4\"><HiOutlineMail className=\"mr-2\"/>{this.state.user.email}</p>\r\n              <p className=\"about-text h4\"><ImPhone className=\"mr-2 mb-2\"/>{this.state.user.phone}</p>\r\n            </div>\r\n          </div>\r\n          <div style={{position: \"relative\"}}>\r\n            {this.state.isLogin && (\r\n              <AiFillEdit\r\n              className=\"edit-icon\"\r\n              data-toggle=\"modal\"\r\n              data-target=\"#exampleModal\"\r\n              />\r\n            )}\r\n          </div>\r\n          <div className=\"row justify-content-center\">\r\n            {/* <div className=\"col-6 col-md-4 col-lg-3 p-3 mt-2 text-center\">\r\n              \r\n              <p className=\"about-text h2\">{this.state.user.name}</p>\r\n              <p className=\"about-text h4\"><HiOutlineMail className=\"mr-2\"/>{this.state.user.email}</p>\r\n              <p className=\"about-text h4\"><ImPhone className=\"mr-2 mb-2\"/>{this.state.user.phone}</p>\r\n              \r\n              {this.state.isLogin && (\r\n                <div className=\"row justify-content-center\">\r\n                  <AiFillEdit\r\n                    className=\"edit-icon\"\r\n                    data-toggle=\"modal\"\r\n                    data-target=\"#exampleModal\"\r\n                  />\r\n                </div>\r\n              )}\r\n            </div> */}\r\n          </div>\r\n        </div>\r\n        <div className=\"row justify-content-center p-4 \">\r\n          <div className=\"col-6 text-center m-5 \">\r\n            <span className=\"wishlist_header \">My WishList</span>\r\n            <img src=\"https://educlever.beplusthemes.com/high-school/wp-content/uploads/2019/05/sapec.png\" alt=\"\" />\r\n          </div>\r\n\r\n          <div className=\"container \">\r\n            <div className=\"row justify-content-center\">\r\n              {/* {this.renderWishlist()} */}\r\n              <Cards cards={this.state.Places}/>\r\n              {/* {console.log(\"********** \", this.state.Places)} */}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"container pb-5\">\r\n          <div className=\"row justify-content-center\">\r\n          {this.state.reserve_Places.length > 0 && (\r\n            <div className=\"col-6 text-center m-5 \">\r\n              <span className=\"wishlist_header \">My Trips</span>\r\n              <img src=\"https://educlever.beplusthemes.com/high-school/wp-content/uploads/2019/05/sapec.png\" alt=\"\" />\r\n            </div>\r\n            )}\r\n            {this.state.reserve_Places.length > 0 && (\r\n            <div className=\"container\">\r\n              <div className=\"row justify-content-center\">\r\n                {this.renderTrips()}\r\n              </div>\r\n            </div>\r\n            )}\r\n            {this.state.All_User_places.length > 0 && (\r\n              <div className=\"col-6 text-center m-5 \">\r\n                <span className=\"wishlist_header \">My Places</span>\r\n                <img src=\"https://educlever.beplusthemes.com/high-school/wp-content/uploads/2019/05/sapec.png\" alt=\"\"/>\r\n              </div>\r\n            )}\r\n            <div className=\"container\">\r\n              <div className=\"row justify-content-center\">\r\n                {this.renderPlaces()}\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              className=\"modal fade\"\r\n              id=\"exampleModal\"\r\n              tabIndex=\"-1\"\r\n              role=\"dialog\"\r\n              aria-labelledby=\"exampleModalLabel\"\r\n              aria-hidden=\"true\"\r\n            >\r\n              <div className=\"modal-dialog\" role=\"document\">\r\n                <div className=\"modal-content\">\r\n                  <div className=\"modal-header\">\r\n                    <h5 className=\"modal-title\" id=\"exampleModalLabel\">\r\n                      Update Your Information\r\n                    </h5>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"close\"\r\n                      data-dismiss=\"modal\"\r\n                      aria-label=\"Close\"\r\n                    >\r\n                      <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"modal-body\">\r\n                    <form className = \"update-form\">\r\n                      <div className=\"form-group\">\r\n                      {/* <label htmlFor=\"img\" className=\"btn main-btn text-white\">\r\n                        Upload Your Photo\r\n                        <input type=\"file\" id=\"img\" name=\"img\" accept=\"image/*\"\r\n                          onChange={(e) => {\r\n                            this.setState({ profile_image: e.target.files[0] });\r\n                          }}/>\r\n                      </label>\r\n                      <small>{this.state.profile_image}</small> */}\r\n\r\n                        <label htmlFor=\"img\" className=\"btn main-btn\">Upload Your Photo</label>\r\n                        <br/>\r\n                         <input type=\"file\" id=\"img\" name=\"img\" accept=\"image/*\" onChange={(e) => {\r\n                            this.setState({ profile_image: e.target.files[0] });\r\n                          }} />\r\n                          <input type=\"text\" defaultValue={this.state.profile_image}/>\r\n                        \r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"name\" className=\"label\">Name</label>\r\n                        <input\r\n                          id=\"name\"\r\n                          type=\"text\"\r\n                          placeholder={this.state.user.name}\r\n                          className=\"form-control\"\r\n                          onChange={(e) => {\r\n                            this.setState({ name: e.target.value });\r\n                            document.getElementById('nameError').innerHTML = \"\";\r\n                          }}\r\n                        />\r\n                        <small  id=\"nameError\" style={{color :\"red\"}}></small>\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"phone\" className=\"label\">Phone</label>\r\n                        <input\r\n                          id=\"phone\"\r\n                          type=\"tel\"\r\n                          placeholder={this.state.user.phone}\r\n                          className=\"form-control\"\r\n                          onChange={(e) => {\r\n                            this.setState({ phone: e.target.value });\r\n                            document.getElementById('phoneError').innerHTML = \"\";\r\n                          }}\r\n                          />\r\n                          <small id=\"phoneError\" style={{color :\"red\"}}></small>\r\n        \r\n                      </div>\r\n\r\n                      <button\r\n                        type=\"button\"\r\n                        // className=\"btn update-btn\"\r\n                        className=\"btn main-btn\"\r\n                        onClick={async () => {\r\n                          this.handleUpdate();\r\n                        }}\r\n                        >\r\n                        Update\r\n                      </button>\r\n                    </form>\r\n                  </div>\r\n                  <div className=\"modal-footer\">\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn btn-primary\"\r\n                      data-toggle=\"modal\"\r\n                      data-target=\"#exampleModal2\"\r\n                      >\r\n                      Update Password\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn btn-secondary\"\r\n                      data-dismiss=\"modal2\"\r\n                      >\r\n                      Close\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            \r\n            <div\r\n              className=\"modal fade\"\r\n              id=\"exampleModal2\"\r\n              tabIndex=\"-1\"\r\n              role=\"dialog\"\r\n              aria-labelledby=\"exampleModalLabel2\"\r\n              aria-hidden=\"true\"\r\n            >\r\n              <div className=\"modal-dialog\" role=\"document\">\r\n                <div className=\"modal-content\">\r\n                  <div className=\"modal-header\">\r\n                    <h5 className=\"modal-title\" id=\"exampleModalLabel\">\r\n                      Update Your Password\r\n                    </h5>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"close\"\r\n                      data-dismiss=\"modal\"\r\n                      aria-label=\"Close\"\r\n                    >\r\n                      <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"modal-body\">\r\n                    <form className = \"update-form\">\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"name\">Old Password</label>\r\n                        <input\r\n                          id=\"old_pass\"\r\n                          type=\"password\"\r\n                          placeholder=\"old password\"\r\n                          className=\"form-control\"\r\n                          onChange={(e) => {\r\n                            this.setState({ old_pass: e.target.value });\r\n                            document.getElementById('old_pass_Error').innerHTML = \"\";\r\n                          }}\r\n                        />\r\n                        <small id=\"old_pass_Error\" style={{color :\"red\"}}></small>\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"pass\">New Password </label>\r\n                        <input\r\n                          id=\"new_pass\"\r\n                          type=\"password\"\r\n                          placeholder=\" new password\"\r\n                          className=\"form-control\"\r\n                          onChange={(e) => {\r\n                            this.setState({new_pass: e.target.value });\r\n                            document.getElementById('new_pass_Error').innerHTML = \"\";\r\n                          }}\r\n                        />\r\n                        <small id=\"new_pass_Error\" style={{color :\"red\"}}></small>\r\n                      </div>\r\n                      \r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"btn update-btn\"\r\n                        onClick={async () => {\r\n                          this.handleUpdatePassword();\r\n                        }}\r\n                        >\r\n                        Update\r\n                      </button>\r\n                    </form>\r\n                  </div>\r\n                  <div className=\"modal-footer\">\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn btn-secondary\"\r\n                      data-dismiss=\"modal\"\r\n                      >\r\n                      Close\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapactiontoprops = (disptch) => {\r\n  return bindActionCreators(\r\n    {\r\n      \r\n      getclientById,\r\n      getWishlistByID,\r\n      getPlaceById,\r\n      getReservationByID,\r\n      deleteWishlistById,\r\n      updateClient,\r\n      updatePassword\r\n    },\r\n    disptch\r\n    );\r\n  };\r\n  const mapstatetoprops = (state) => {\r\n  return {\r\n    client: state.Clients,\r\n    wishlistDetails : state.Wishlists.wishlist_details,\r\n    placeDetails: state.Places.place_details,\r\n    reservationDetails: state.Reservations.reservation_details\r\n    \r\n    \r\n  };\r\n};\r\n\r\nexport default connect(mapstatetoprops, mapactiontoprops)(ViewProfile);\r\n\r\n","E:\\iti\\final pro\\airbnb\\src\\components\\about\\about.js",[],"E:\\iti\\final pro\\airbnb\\src\\components\\reservations\\reservationForm.js",["214","215","216","217","218"],"import \"./reservationForm.css\";\r\nimport { getAllReservation , addReservation } from \"../../actions/reservations\";\r\nimport { getAllClients, updateClient } from \"../../actions/clients\";\r\nimport { getAllPlaces, getPlaceById } from \"../../actions/places\";\r\nimport Joi, { validate } from \"joi-browser\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport React, { Component } from \"react\";\r\nimport moment from \"moment\"\r\n\r\n// const Reservastion = () => {\r\n    class Reservastion extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          // Places: [],\r\n          // reserve_Places: [],\r\n          // Reservations: [],\r\n          user_Id: \"\",\r\n          place_Id: \"\",\r\n          user: {},\r\n          start_date: \"\",\r\n          end_date: \"\",\r\n          total_nights: \"\",\r\n          num_of_guests: \"\",\r\n          token: \"\",\r\n          isAuth: false,\r\n          isOpen: false,\r\n          isLogin: true,\r\n          placeID : \"\"\r\n          \r\n        };\r\n        this.baseUrl = \"http://my-json-server.typicode.com/sondossamii/airbnb/reservations\";\r\n    }\r\n\r\n\r\n\r\n    Submit = async  () => {\r\n      var client = {\r\n        _id: this.state.user._id,\r\n        _id: this.state.places._id,\r\n        start_date: this.state.start_date,\r\n        end_date: this.state.end_date,\r\n        total_nights: this.state.total_nights,\r\n        num_of_guests: this.state.num_of_guests\r\n      };\r\n        \r\n      // await this.props.updateClient(client);\r\n      // window.location.reload();\r\n    }\r\n\r\n\r\n    handelReservations = async (e) => {\r\n      e.preventDefault();\r\n  \r\n      // const errors = this.Validations();\r\n      // const valid=this.LoginValidations();\r\n      // if (errors) return;\r\n      // if(!valid)return;\r\n      // var formData = new FormData();\r\n      // formData.append(\"email\", \"moataz3@gmail.com\");\r\n      // formData.append(\"password\", this.state.Password);\r\n      // console.log(this.state.Email);\r\n      console.log(\"esraaaaaaaaaaa\",localStorage.token);\r\n  \r\n      fetch(\"http://localhost:8080/api/reservation\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: 'Bearer ' + localStorage.token,\r\n          \"Content-Type\": \"application/json\",\r\n               },\r\n        body: JSON.stringify({\r\n          start_date: this.state.start_date,\r\n          end_date: this.state.end_date,\r\n          total_nights: this.state.total_nights,\r\n          num_of_guests: this.state.num_of_guests,\r\n        }),\r\n      })\r\n        .then((response) => {\r\n          if (response.statusText === \"created\") {\r\n            this.props.handleSuccessfulAuth(response.data);\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((response) => {\r\n          console.log(\"response: \", response);\r\n         \r\n        })\r\n        .catch((error) => {\r\n          console.log(\"registration error\", error);\r\n        });\r\n      // this.props.history.push(\"/\");\r\n    };\r\n    \r\n        openModal = () => this.setState({ isOpen: true });\r\n        closeModal = () => this.setState({ isOpen: false });\r\n\r\n\r\n\r\n        \r\n\r\n        async componentDidMount() {\r\n            // console.log(\",,,,,,,:  \",this.props.match.params.id);\r\n          await this.setState({\r\n              token: localStorage.getItem(\"token\") ,\r\n              placeID :  this.props.match.params.id\r\n        });\r\n          console.log(\"token: \"  , this.state.token);\r\n          // console.log(moment(document.getElementById(\"\")))\r\n          // await this.props.getAllPlaces();\r\n      \r\n          // this.UserPlaces();\r\n         \r\n      \r\n          // await this.props.getAllReservation();\r\n          // await this.setState({ Reservations: this.props.reservations });\r\n          // // this.get_reserve_places();\r\n          // await this.props.getAllClients();\r\n          // this.getUser();\r\n        }\r\n\r\n        // getPlaces = async () => {\r\n        //     var arr = [];\r\n        //     var place = null;\r\n        //     if (this.state.Wishlists.length > 0) {\r\n        //       this.state.Wishlists.map(async (wishlist) => {\r\n        //         place = await this.props.places.filter((place) => {\r\n        //           if (place._id === wishlist.place_id) {\r\n        //             arr.push(place);\r\n        //           }\r\n        //         });\r\n        //       });\r\n        //       await this.setState({ Places: arr });\r\n        //       console.log(\"array: \", this.state.Places);\r\n        //     }\r\n        //   };\r\n            \r\n              \r\n//   async get_reserve_places() {\r\n//     var arr = [];\r\n//    var place = null;\r\n//    if (this.state.Reservations.length > 0) {\r\n//      this.state.Reservations.map(async (reservation) => {\r\n//        place = await this.props.places.filter((place) => {\r\n//          if (place._id === reservation.place_id) {\r\n//           arr.push(place);\r\n//          }\r\n//        });\r\n//        await this.setState({ reserve_Places: arr });\r\n//      });\r\n//    }\r\n//  }\r\n\r\n\r\n//  getUser = async () => {\r\n//     if(this.props.clients > 0){\r\n//         var user = this.props.clients.find(\r\n//           (client) => client._id === this.state.userId\r\n//         );\r\n//         this.setState({\r\n//           user,\r\n//           start_date: user.start_date,\r\n//           end_date: user.end_date,\r\n//           total_nights: user.total_nights,\r\n//           num_of_guests: user.num_of_guests,\r\n//         });\r\n//     }\r\n//   };\r\n\r\n// Validations = () => {\r\n//   const errors = {};\r\n//   let state = { ...this.state };\r\n//   delete state.errors;\r\n//   var res = Joi.validate(state, this.schema, { abortEarly: false });\r\n//   if (res.error === null || res.error <= 0 ) {\r\n//     this.setState({ errors: {} });\r\n//     return null;\r\n//   }\r\n//   for (const error of res.error.details) {\r\n//     errors[error.path] = error.message;\r\n//   }\r\n//   // console.log(res.error.details);\r\n//   // console.log(state);\r\n//   this.setState({ errors: errors });\r\n//   // console.log(this.state.errors.Password);\r\n// };\r\n\r\n  handleClick = async ()=>{\r\n    var reservation = {\r\n      start_date: this.state.start_date,\r\n      end_date: this.state.end_date,\r\n      total_nights: this.state.total_nights,\r\n      num_of_guests: this.state.num_of_guests\r\n    };\r\n    var flag= true;\r\n    if(reservation.start_date && reservation.end_date <= reservation.start_date) {\r\n      flag = false;\r\n      toast.error('🙄 Select Valid Dates', {\r\n        position: \"top-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        });\r\n    }\r\n\r\n    if(!reservation.start_date){\r\n      flag=false;\r\n      toast.error('🙄 Select Start Date', {\r\n        position: \"top-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        });\r\n    }\r\n    if(!reservation.end_date){\r\n      flag=false;\r\n      toast.error('😏 Select End Date', {\r\n        position: \"top-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        });\r\n    }\r\n    if(!reservation.total_nights || reservation.total_nights < 0 ){\r\n      flag=false;\r\n      toast.error('🤔 Enter Valid Number', {\r\n        position: \"top-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        });\r\n    }\r\n    if(!reservation.num_of_guests || reservation.num_of_guests <= 0  ){\r\n      flag=false;\r\n      toast.error('🤨 Enter Valid Number of Guests', {\r\n        position: \"top-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        });\r\n    }\r\n    if(flag){\r\n      console.log(reservation);\r\n      await this.props.addReservation(this.state.token , this.state.placeID,reservation);\r\n      console.log(\"^^^^^^^^\", this.props.msg);\r\n      // if(this.props.msg === \"reservation created successfully!\") {\r\n      if(this.props.msg === \"success\") {\r\n        toast.success('🤩 Reservation created Successfully!', {\r\n          position: \"top-center\",\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: false,\r\n          draggable: true,\r\n          progress: undefined,\r\n          });\r\n          setTimeout(()=>{\r\n            this.props.history.push(`/place-details/${this.state.placeID}`);\r\n        }, 5500)\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {      \r\n    return (\r\n      <>\r\n        <section id=\"login\" className=\"py-5\">\r\n            <div className=\"container\">\r\n              <ToastContainer />\r\n                <div id=\"login-row\" className=\"row justify-content-center align-items-center\">\r\n                    <div id=\"login-column\" className=\"col-md-6\">\r\n                        <div id=\"login-box\" className=\"col-md-12 \">\r\n                            <form id=\"login-form\" className=\"form\" action=\"\" method=\"post\">\r\n                                <h3 className=\"text-center text-info\">Reservation</h3>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"text-info\">Check In :</label>\r\n                                    <input type=\"date\"\r\n                                    id=\"start_date\"\r\n                                     className=\"form-control\"\r\n                                     value={this.state.start_date}\r\n                                    //  placeholder={this.state.user.start_date}\r\n                                     onChange={(e) => {\r\n                                        this.setState({start_date : e.target.value });\r\n                                        document.getElementById('start_err').innerHTML = \"\";\r\n                                      }}/>\r\n                                         {/* {this.state.errors.start_date && (\r\n                                          <div className=\"alert alert-danger form-control\">\r\n                                         {this.state.errors.start_date}\r\n                                        </div>\r\n                                       )} */}\r\n                                <small id=\"start_err\">\r\n\r\n                                </small>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"text-info\">Check Out :</label>\r\n                                    <input type=\"date\"\r\n                                    id=\"end_date\"\r\n                                     className=\"form-control\" \r\n                                     value={this.state.end_date}\r\n                                    //  placeholder={this.state.user.end_date}\r\n                                     onChange={(e) => {\r\n                                        this.setState({ end_date: e.target.value });\r\n                                        document.getElementById('end_err').innerHTML = \"\";\r\n                                      }}/>\r\n                                         {/* {this.state.errors.end_date && (\r\n                                          <div className=\"alert alert-danger form-control\">\r\n                                         {this.state.errors.end_date}\r\n                                        </div>\r\n                                       )} */}\r\n                                <small id=\"end_err\">\r\n                                  \r\n                                </small>\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"text-info\">Total Nights :</label>\r\n                                    <input type=\"number\" \r\n                                    className=\"form-control\"\r\n                                    value={this.state.total_nights} \r\n                                    // placeholder={this.state.user.total_nights}\r\n                                    onChange={(e) => {\r\n                                        this.setState({ total_nights: e.target.value });\r\n                                        document.getElementById('total_nights_err').innerHTML = \"\";\r\n                                      }}/>\r\n                                       {/* {this.state.errors.total_nights && (\r\n                                          <div className=\"alert alert-danger form-control\">\r\n                                         {this.state.errors.total_nights}\r\n                                        </div>\r\n                                       )} */}\r\n                                      <small id=\"total_nights_err\">\r\n                                  \r\n                                  </small>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"text-info\">Number of guests :</label>\r\n                                    <input type=\"number\" \r\n                                    // placeholder={this.state.user.num_of_guests}\r\n                                    value={this.state.num_of_guests}\r\n                                    className=\"form-control\" \r\n                                    onChange={(e) => {\r\n                                        this.setState({ num_of_guests: e.target.value });\r\n                                        document.getElementById('num_guests_err').innerHTML = \"\";\r\n                                      }}/>\r\n                                       {/* {this.state.errors.num_of_guests && (\r\n                                          <div className=\"alert alert-danger form-control\">\r\n                                         {this.state.errors.num_of_guests}\r\n                                        </div>\r\n                                       )} */}\r\n                                      <small id=\"num_guests_err\">\r\n                                  \r\n                                    </small>\r\n\r\n\r\n                                    <div className=\"form-group\">\r\n                                    <div className=\"col-auto my-2\">\r\n                                        <button  id=\"submit\" type=\"button\" className=\"btn btn-primary float-right  bg-info\"  onClick= {()=>{\r\n                                          this.handleClick()\r\n                                        }}>Submit</button>\r\n                                    </div>\r\n                                </div>\r\n                                </div>\r\n                                {/* <div className=\"form-group\">\r\n                                    <div className=\"col-auto my-1\">\r\n                                        <button  id=\"submit\" type=\"button\" className=\"btn btn-primary float-right  bg-info\"  onClick= {()=>{\r\n                                          this.handleClick()\r\n                                        }}>Submit</button>\r\n                                    </div>\r\n                                </div> */}\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n      </>\r\n);\r\n}\r\n}\r\n\r\nconst mapactiontoprops = (disptch) => {\r\n    return bindActionCreators(\r\n      {\r\n        getAllPlaces,\r\n        getAllClients,\r\n        updateClient,\r\n        getPlaceById,\r\n        getAllReservation,\r\n        addReservation\r\n      },\r\n      disptch\r\n    );\r\n  };\r\n  const mapstatetoprops = (state) => {\r\n    return {\r\n      places: state.Places,\r\n      clients: state.Clients,\r\n      placeDetails: state.Places,\r\n      reservations: state.Reservations,\r\n      msg: state.Reservations.message\r\n    };\r\n  };\r\n\r\n// export default Reservastion\r\nexport default connect(mapstatetoprops, mapactiontoprops)(Reservastion);","E:\\iti\\final pro\\airbnb\\src\\components\\PlaceD\\place-details.js",["219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236"],"import React, {Component} from \"react\";\r\nimport {NavLink as Link} from 'react-router-dom';\r\nimport {SiGithub} from \"react-icons/si\";\r\nimport {useState, useEffect} from \"react\";\r\nimport Slider from \"react-slick\";\r\nimport {FaTv, FaWifi, FaFan, FaUserAlt, FaBath} from \"react-icons/fa\";\r\nimport {FiEdit} from \"react-icons/fi\";\r\nimport {IoIosBed} from \"react-icons/io\";\r\nimport {MdPets} from \"react-icons/md\";\r\nimport {GiHeatHaze,GiCampCookingPot} from \"react-icons/gi\";\r\nimport { getPlaceById ,updatePlace } from \"../../actions/places\";\r\nimport { AllClients } from \"../../actions/clients\";\r\nimport {getPlaceReviews,AllReviews} from \"../../actions/reviews\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport ReviewAdding from \"../Forms/review\";\r\nimport { AiFillEdit } from \"react-icons/ai\";\r\n\r\nimport { Map, GoogleApiWrapper,InfoWindow, Marker } from 'google-maps-react';\r\n\r\nconst mapStyles = {\r\n    width: \"100%\",\r\n    height: \"100%\"\r\n  };\r\n  \r\n  const containerStyle = {\r\n    position: 'relative',  \r\n    width: '100%',\r\n    height: '350px' // The same height of its parent in render\r\n  };\r\n\r\nclass GetPlaceDetails extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            placedata: [],\r\n            place_id:\"\",\r\n            img:[],\r\n            address:[],\r\n            reviews: [],\r\n            allreviews:[],\r\n            users:[],\r\n            username:[],\r\n            userimg:[],\r\n            owner:false\r\n        }\r\n    }\r\n    async componentDidMount(){\r\n        console.log(this.props.match.params.id)\r\n        // const id = this.props.match.params.id;\r\n        // this.setState({place_id: id});\r\n        // this.setState({place_id: this.props.match.params.id});\r\n        // console.log(\"*****\", this.state.place_id);\r\n\r\n        this.setState({token: localStorage.getItem(\"token\")});\r\n        this.setState({UserId: localStorage.getItem(\"user_id\")});\r\n        if(!localStorage.getItem(\"token\")){\r\n            alert(\"please log in frist!\")\r\n        this.props.history.push(\"/\");\r\n        }\r\n        await this.props.getPlaceById(this.props.match.params.id);\r\n        await this.props.AllClients();\r\n        await this.props.getPlaceReviews(this.props.match.params.id);\r\n        this.setState({reviews:this.props.reviews.reviews});\r\n        await this.props.AllReviews();\r\n        this.setState({allreviews:this.props.allreviews.reviews});\r\n        // console.log(\"3333333333333333333333\",this.props.allreviews.reviews)\r\n        console.log(\"!!!!!!!!!!!\", this.props.placeDetails);\r\n        console.log(\"-----------\", this.props.placeDetails.place)\r\n        var place= this.props.placeDetails.place;\r\n        localStorage.setItem(\"place_id\", place._id);\r\n        this.setState({address:place.address});\r\n        this.setState({img:place.images});\r\n        this.setState({placedata:place});\r\n        this.setState({users:this.props.users.users});\r\n        if(localStorage.user_id === this.state.placedata.user_id){\r\n            this.setState({owner:true})\r\n        }\r\n        // console.log(this.state.reviews)\r\n        // console.log(this.state.allreviews)\r\n        // console.log(\"33333333333333\",this.props.users.users)\r\n        \r\n    }\r\n    // async componentDidMount() {\r\n    //     await fetch(\"http://localhost:3001/places/\", {method: 'GET'})\r\n    //         .then(res => {\r\n    //             return res.json();\r\n    //         }).then( data => {\r\n    //             console.log(data);\r\n    //             for(const place of data)\r\n    //             if(place._id==1){\r\n    //                  this.setState({placeData:place});\r\n    //                 this.setState({img:place.images});\r\n    //                 this.setState({address:place.address});\r\n    //                 console.log(\"#########################\",place.images)\r\n    //                 console.log(this.state.placeData.type);\r\n    //                 console.log(\"............\",this.state.address);\r\n    //             };\r\n    //         }).catch(err => {\r\n    //             console.log(err);\r\n    //         });\r\n    //         await fetch(\"http://localhost:3001/reviews/\", {method: \"GET\"})\r\n    //         .then((res) => {\r\n    //             return res.json();\r\n    //         }).then((data) => {\r\n    //             const reviews =[];\r\n    //             for(const review of data)\r\n    //             if(review.place_id==1){\r\n    //                 reviews.push(review);\r\n    //             }\r\n    //             this.setState({reviews: reviews});\r\n    //             console.log(reviews);\r\n    //         }).catch((err) => {\r\n    //             console.log(err);\r\n    //         });\r\n    //         await fetch(\"http://localhost:3001/users/\", {method: \"GET\"})\r\n    //         .then((res) => {\r\n    //             return res.json();\r\n    //         }).then((data) => {\r\n    //             this.setState({Users: data});\r\n    //         }).catch((err) => {\r\n    //             console.log(err);\r\n    //         });\r\n    //     }\r\n        \r\n\r\n\r\n\r\n     PlaceSlider= () => {\r\n        const settings = {\r\n            infinite: true,\r\n            speed: 500,\r\n            slidesToShow: 1,\r\n            slidesToScroll: 1,\r\n            autoplay: true,\r\n            autoplaySpeed: 2500\r\n        };\r\n        if(this.state.img){\r\n            return (\r\n                <div style={{position: 'relative', overflow: 'hidden' }}>\r\n                <Slider  >\r\n                      {this.state.img.map((images)=>{\r\n                    return (\r\n                       <div><img className=\"slideshow-bg img-slide\" src={`http://localhost:8080/${images}`}/></div>\r\n                        \r\n                       );})} \r\n                       \r\n                            {/* <div><img style={{width:\"100%\"}} className=\"slideshow-bg\" src=\"/img/pexels-photo-59520.jpeg\"/></div>\r\n                            <div><img style={{width:\"100%\"}} className=\"slideshow-bg\" src=\"/img/pexels-photo-59520.jpeg\"/></div> */}\r\n                            {/* <div><img className=\"slideshow-bg\" src={`/img/${this.state.placeData.images[0]}`}/></div> */}\r\n                    \r\n                </Slider>\r\n                <h1 className=\"Place-name \" > {this.state.placedata.name}</h1> \r\n                </div>\r\n            )\r\n        }\r\n        else{\r\n            return (\r\n                <h2 className=\"text-center my-5\">No Places...</h2>\r\n            )\r\n        }\r\n    }\r\n\r\n     Placelocation(){\r\n        if(this.state.placedata){\r\n\r\n            const place=this.state.placedata;\r\n            return (\r\n                <div className=\"featchers row\">\r\n                    <h2 className=\"text-center col-12\">Place Information  &nbsp;\r\n                    { this.state.owner &&(<Link to={`/place-edit/${this.props.match.params.id}`} style={{color:\"var(--primary-dark-color)\"}} ><FiEdit /></Link>)}\r\n                    </h2>\r\n                    \r\n                    <div className=\"col-12 col-md-6\">\r\n                        <div className=\"ml-3 col-12 pt-3 pb-3\">\r\n                            <p className=\"h4 col-12 pl-5 d-block vertical-align-middle \">Discription:</p>\r\n                            <p className=\" h5 pl-5 pr-5 d-block m-0 ml-5 col-12 text-left\">{ this.state.placedata.description}</p>\r\n                        </div>\r\n                        <div className=\" col-12 pt-3 \">\r\n                            <div className=\"ml-3\">\r\n                            <p className=\"h4 pl-5 d-inline-block w-25\">Price Per Night:</p>\r\n                            <p className=\" h5 pl-3 d-inline-block m-0 col-6\">$ { this.state.placedata.price}</p>\r\n                            </div>\r\n                            <div className=\"ml-3\">\r\n                            <p className=\"h4 pl-5 d-inline-block w-25\">Type:</p>\r\n                            <p className=\" h5 pl- d-inline-block m-0 col-6\">{ this.state.placedata.type}</p>\r\n                            </div>\r\n                            <div className=\"ml-3\">\r\n                            <p className=\"h4 pl-5 d-inline-block w-25\">country:</p>\r\n                            <p className=\"h5 pl-3 d-inline\">{this.state.address.country}</p> \r\n                            \r\n                            </div>\r\n                            <div className=\"ml-3\">\r\n                            <p className=\"h4 pl-5 d-inline-block w-25 \">city:</p>\r\n                             <p className=\"h5 pl-3 d-inline\">{this.state.address.city}</p> \r\n                            </div>\r\n                            <div className=\"ml-3\">\r\n                            <p className=\"h4 pl-5 d-inline-block w-25\">zipcode:</p>\r\n                             <p className=\"h5 pl-3 d-inline\">{  this.state.address.zipcode}</p> \r\n                            \r\n                            </div>\r\n                            \r\n                        </div>\r\n                        </div>\r\n                    <div className=\" col-12 col-md-6 \" style={{height: '350px'}}>\r\n                        \r\n                            \r\n                            <Map\r\n                                    google={this.props.google}\r\n                                    zoom={8}\r\n                                    style={mapStyles}\r\n                                    containerStyle={containerStyle}\r\n                                    initialCenter={{\r\n                                    lat:47.49855629475769,\r\n                                    lng: -122.14184416996333\r\n                                    }}\r\n                                    center={this.state.placedata.location}\r\n                                    onClick={this.mapClicked}>\r\n                                    <Marker  position={this.state.placedata.location}\r\n                                    onClick={() => console.log(\"You clicked me!\")} />\r\n\r\n                                </Map> \r\n                         \r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n     Placefetcher=()=>{\r\n        if(this.state.placedata)\r\n        var place=this.state.placedata;{\r\n            return (\r\n                <div className=\"featchers row\">\r\n                     <h2 style={{height:\"40px\"}} className=\"text-center col-12 p-0\">Available Features</h2>\r\n                    <div className=\" col-lg-12 col-md-6 \">\r\n                    <ul>\r\n                        <div className=\" pb-5\">\r\n                        {this.state.placedata.has_wifi && ( <li className=\"h4 col-lg-4 col-md-6 d-inline-block text-center\"><FaWifi className=\" mr-3\"/> WIFI</li> )}\r\n                        {this.state.placedata.has_heating_system && ( <li className=\"h4 col-lg-4 col-md-6 d-inline-block text-center\"><GiHeatHaze className=\" mr-3\"/> Heating System </li> )}\r\n                        {this.state.placedata.has_airconditioner && ( <li className=\"h4 col-lg-4 col-md-6 d-inline-block text-center\"><FaFan className=\" mr-3\"/> Air Conditioner </li> )}\r\n                        \r\n                        \r\n                        {this.state.placedata.has_tv && ( <li className=\"h4 col-lg-4 col-md-6 d-inline-block text-center\"><FaTv className=\" mr-3\"/> TV </li> )}\r\n                        {this.state.placedata.pets && ( <li className=\"h4 col-lg-4 col-md-6 d-inline-block text-center\"><MdPets className=\" mr-3 \"/> Allow Pets </li> )}\r\n                        </div>\r\n                    </ul>\r\n                    </div>\r\n                    <div className=\" col-lg-12 col-md-6 \">\r\n                    <ul>\r\n                        <div className=\"pb-3\">\r\n                        <li className=\"h4 col-lg-4 col-md-6 d-inline-block text-center\"> Max Number of Guests </li>\r\n                        <li className=\"h4 col-lg-4 col-md-6 d-inline-block text-center\">Beds Number </li>\r\n                        <li className=\"h4 col-lg-4 col-md-6 d-inline-block text-center\"><FaFan className=\" mr-3\"/> Available Rooms </li>\r\n                        </div>\r\n                        <div className=\"pb-3\">\r\n                        <li className=\"h4 col-lg-4 col-md-6 d-inline-block text-center\"><FaUserAlt className=\" mr-3\"/> {place.max_guests} </li>\r\n                        <li className=\"h4 col-lg-4 col-md-6 d-inline-block text-center\"><IoIosBed className=\" mr-3 \"/> {place.total_beds} </li>\r\n                        <li className=\"h4 col-lg-4 col-md-6 d-inline-block text-center\"><IoIosBed className=\" mr-3 \"/> {place.total_rooms} </li>\r\n                        </div>\r\n                        <div className=\"pt-3 m-auto\">\r\n                        <li className=\"h4 col-lg-4 col-md-6 d-inline-block text-center\"> Available Bathroom </li>\r\n                        <li className=\"h4 col-lg-4 col-md-6 d-inline-block text-center\">Available Kitchen </li>\r\n                        </div>\r\n                        <div className=\"pt-3 ml-auto\">\r\n                        <li className=\"h4 col-lg-4 col-md-6 d-inline-block text-center\"><FaBath className=\" mr-3\"/> {place.total_bathrooms} </li>\r\n                        <li className=\"h4 col-lg-4 col-md-6 d-inline-block text-center\"><GiCampCookingPot className=\" mr-3 \"/> {place.total_kitchens} </li>\r\n                        </div>\r\n                    </ul>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    Review(){\r\n         if(this.state.reviews){\r\n        var allreviews=this.state.allreviews;\r\n        var reviews=this.state.reviews;\r\n        var allusers=this.state.users;\r\n        console.log(allreviews)\r\n        console.log(reviews)\r\n        var placeReviews=[];\r\n        let rate=0;\r\n        let username=[];\r\n        let userimg=[];\r\n        reviews.map(r =>{\r\n            allreviews.map( r2 =>{\r\n                if(r2._id === r){\r\n                    placeReviews.push(r2);\r\n                }\r\n            })\r\n        });\r\n        console.log(placeReviews)\r\n        placeReviews.map(r=>{\r\n            allusers.map(oneuser=>{\r\n                if(r.user_id === oneuser._id){\r\n                    username.push(oneuser.name);\r\n                    userimg.push(oneuser.profile_image);\r\n                    console.log(oneuser)\r\n                }\r\n                \r\n            })\r\n            rate += r.rating; \r\n            \r\n        });\r\n        const avg = rate / allreviews.length;\r\n        const newavg=avg.toFixed(1)\r\n            console.log(newavg)\r\n        var uName=[];\r\n        var uImg=[];\r\n        //console.log(\"22222222222222\",user)\r\n        //console.log(\"333333333333\", placeReviews)\r\n        \r\n        if(placeReviews.length > 0) {\r\n            return (\r\n                <div className=\"review row \" style={{height:\"100% !important\"}}>\r\n                    <h2  className=\"text-center col-12 pb-0 mb-0 mt-5\">User Reviwes</h2>\r\n                    \r\n{/*                     \r\n                    <div className=\"col-3 \">\r\n                        {user.slice(0,3).map(user => (\r\n                        \r\n                        <div className=\"col-6 ml-auto pb-5 users\">\r\n                            <p className=\" text-center h4\" >{user.name}</p>\r\n                            <div className=\"user-photo  m-auto\">\r\n                                {user.profile_image ? <img src={`http://localhost:8080/${user.profile_image}`} /> : <img src={`/img/avatar.png`} />}\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        \r\n                      ))}\r\n                    </div> \r\n\r\n                    <div className=\"col-8 users\">\r\n                      {allreviews.slice(0,3).map(rev => (\r\n                        <div>\r\n                        <div className=\"pl-4 col-12 py-3 \">\r\n                        <p className=\"h4\">{rev.comment}</p>\r\n                        </div>\r\n                        <div className=\"pl-4 col-12 py-3\">\r\n                        <p className=\"h4 pl-5 pb-2\">{rev.rating} <span className=\"text-muted\">/5</span></p>\r\n                        </div>\r\n                        </div>\r\n                        ))}\r\n                    </div> \r\n                         */} \r\n\r\n                    <div className=\"container users\">\r\n                      {placeReviews.slice(0,3).map((rev,index) =>(\r\n                          <>\r\n                        <div className=\"row my-2\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"user-photo  m-auto\">\r\n                                    {userimg[index] ? <img src={`http://localhost:8080/${userimg[index]}`} /> : <img src={`/img/avatar.png`} />}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-9\">\r\n                            <p className=\"h4\" >{username[index]}</p>\r\n                            <p className=\"h4\">{rev.comment}</p>\r\n                            <p className=\"h4 pl-5 pb-2\">{rev.rating} <span className=\"text-muted\">/5</span></p>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                        <hr style={{borderColor:\"gray\",width:\"75%\"}}/>\r\n                        </>\r\n                        ))}\r\n                    </div>  \r\n                </div>\r\n            )\r\n        }\r\n        }\r\n    }\r\nModel(){\r\n    return(\r\n        <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n            <div className=\"modal-dialog\" role=\"document\">\r\n                <div className=\"modal-content\">\r\n                <div className=\"modal-header border-0\">\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                    <ReviewAdding history={this.props.history} />\r\n                </div>\r\n                \r\n                </div>\r\n            </div>\r\n            </div>\r\n    )\r\n}\r\nbtnModel(){\r\n    return(<div className=\"row justify-content-end\">\r\n            <button type=\"button\" className=\"btn mr-5 mt-auto main-btn\"\r\n                data-toggle=\"modal\" data-target=\"#exampleModal\">\r\n                Add Review\r\n            </button>\r\n            <Link to={`/reservation/${this.props.match.params.id}`} type=\"button\" className=\"btn mr-5 mt-auto main-btn\" >\r\n                Make Reservation\r\n            </Link>\r\n        </div>)\r\n}\r\n    render(){\r\n    return (\r\n        <section style={{ marginTop: '63px',position: 'relative', overflow: 'hidden',width:\"100%\"}}>\r\n            {this.PlaceSlider()}\r\n            {this.Placelocation()}\r\n            {this.Placefetcher()} \r\n            {this.btnModel()}\r\n            {this.Review()}\r\n           {this.Model()}\r\n        </section>\r\n    )}\r\n}\r\n\r\nconst mapactiontoprops = (disptch) => {\r\n    return bindActionCreators(\r\n      {\r\n        AllClients,\r\n        getPlaceById,\r\n        getPlaceReviews,\r\n        AllReviews\r\n        \r\n      },\r\n      disptch\r\n    );\r\n  };\r\n  const mapstatetoprops = (state) => {\r\n    return {\r\n      users: state.Clients,\r\n      placeDetails: state.Places.place_details,\r\n      reviews: state.Reviews.place_reviews,\r\n      allreviews:state.Reviews.allreviews\r\n      \r\n      \r\n    };\r\n  };\r\n  export default connect(mapstatetoprops, mapactiontoprops)(GoogleApiWrapper({\r\n    apiKey: \"AIzaSyDED1xIAqSktQ5LAnZ5BCVIkwtKbJPT31U\" })(GetPlaceDetails)) ;","E:\\iti\\final pro\\airbnb\\src\\components\\Team\\our-team.js",["237"],"E:\\iti\\final pro\\airbnb\\src\\components\\Forms\\login.js",["238","239","240","241","242","243"],"import React, { Component } from \"react\";\r\nimport \"./form.css\";\r\nimport Signup from \"./Signup\";\r\nimport { FiLogIn } from \"react-icons/fi\";\r\nimport { FaUserPlus } from \"react-icons/fa\";\r\nimport { login } from \"../../actions/clients\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport Joi, { validate } from \"joi-browser\";\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.checked = React.createRef();\r\n    this.addActiveClass = this.addActiveClass.bind(this);\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n  }\r\n  //static contextType = SessionContext;\r\n  state = {\r\n    //login state\r\n    Email: \"\",\r\n    Password: \"\",\r\n    errors: {},\r\n    token: \"\",\r\n    isAuth: false,\r\n    user_id: \"\",\r\n    isChecked:false\r\n  };\r\n  async componentDidMount(){\r\n    if(localStorage.checked===\"true\"){\r\n      await this.setState({Email:localStorage.email,\r\n        Password:localStorage.password,\r\n        isChecked:localStorage.checked});\r\n        // console.log(localStorage)\r\n        console.log(\"here true\")\r\n    }else{\r\n      await this.setState({Email:\"\",\r\n        Password:\"\",\r\n        isChecked:false});\r\n        console.log(\"here false\")\r\n    }\r\n    \r\n  }\r\n  schema = {\r\n    Email: Joi.string().required().email(),\r\n    Password: Joi.string().required(),\r\n  };\r\n  //data = {};\r\n  //   async componentDidMount() {\r\n  //     this.data = await axios.get(\"http://localhost:3000/clients/\");\r\n  //     //const SessionContext = this.context;\r\n  //   }\r\n  ///start login form functions\r\n  handelchange = (e) => {\r\n    this.state.errors[e.currentTarget.name] = null;\r\n    let state = { ...this.state };\r\n    state[e.currentTarget.name] = e.currentTarget.value;\r\n    this.setState(state);\r\n  };\r\n\r\n  Validations = () => {\r\n    const errors = {};\r\n    let state = { ...this.state };\r\n    delete state.errors;\r\n    delete state.isAuth;\r\n    delete state.token;\r\n    delete state.user_id;\r\n    delete state.isChecked;\r\n    var res = Joi.validate(state, this.schema, { abortEarly: false });\r\n    if (res.error === null) {\r\n      this.setState({ errors: {} });\r\n      return null;\r\n    }\r\n    for (const error of res.error.details) {\r\n      errors[error.path] = error.message;\r\n    }\r\n    console.log(res.error.details);\r\n    this.setState({ errors: errors });\r\n    console.log(this.state.errors.Password);\r\n  };\r\n  //  LoginValidations(){\r\n  //     console.log(this.data.data);\r\n  //     for(const data of this.data.data){\r\n  //         if(this.state.Email==data.email ){\r\n  //             var validEmail= true;\r\n  //             if(this.state.Password==data.password ){\r\n  //                 var validPass= true;\r\n  //             }\r\n  //         }\r\n  //     }\r\n  //     if(validEmail){\r\n  //         if(validPass){\r\n  //             return true;\r\n  //         }\r\n  //         else{\r\n  //             this.setState({errors:{Password:\"The Password is not correct!\"}})\r\n  //         }\r\n\r\n  //     }\r\n  //     else{\r\n  //         this.setState({errors:{Email:\"This Email is not exists!\"}})\r\n  //     }\r\n  // }\r\n\r\n  handleInputChange=async e=> {\r\n    const target = e.target;\r\n    const value = target.type === 'checkbox' ? target.checked : target.value;\r\n    const targetname = target.name;\r\n    let state={...this.state};\r\n    state[targetname]=value;\r\n    await this.setState(state);\r\n    console.log(state)\r\n    console.log(value)\r\n  }\r\n\r\n  handelLogin = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const errors = this.Validations();\r\n    // const valid=this.LoginValidations();\r\n    if (errors !== null) return;\r\n    var formData = new FormData();\r\n    formData.append(\"email\", this.state.Email);\r\n    formData.append(\"password\", this.state.Password);\r\n    console.log(this.state.Email);\r\n    let url = \"http://localhost:8080/api/login\";\r\n    await this.props.login(formData,url);\r\n    console.log(\"login data\",this.props.client)\r\n\r\n    if(this.props.client.message === \"A user with this email could not be found.\") {\r\n      window.alert(\"A user with this email could not be found.\");\r\n    }\r\n    else if(this.props.client.message === \"Wrong password!\") {\r\n      window.alert(\"Wrong password!\");\r\n    }\r\n    else {\r\n      await localStorage.setItem(\"token\", this.props.client.token);\r\n      await localStorage.setItem(\"user_id\", this.props.client.user_id);  \r\n    }\r\n    if(this.state.isChecked===\"true\"){\r\n      await localStorage.setItem(\"email\", this.state.Email);\r\n      await localStorage.setItem(\"password\", this.state.Password);\r\n      await localStorage.setItem(\"checked\", this.state.isChecked);\r\n    }else{\r\n      await localStorage.removeItem(\"email\");\r\n      await localStorage.removeItem(\"password\");\r\n      await localStorage.removeItem(\"checked\");\r\n    }\r\n    if(this.props.client.token){\r\n      this.setState({\r\n        isAuth: true,\r\n        token: this.props.client.token,\r\n        user_id: this.props.client.user_id,\r\n        \r\n      })\r\n      console.log(this.state);\r\n      this.props.history.push(\"/\");\r\n      // <Redirect push to=\"/\"/>\r\n    }\r\n\r\n\r\n    // fetch(\"http://localhost:8080/api/login\", {\r\n    //   method: \"POST\",\r\n    //   headers: {\r\n    //     \"Content-Type\": \"application/json\",\r\n    //   },\r\n    //   body: JSON.stringify({\r\n    //     email: this.state.Email,\r\n    //     password: this.state.Password,\r\n    //   }),\r\n    // })\r\n    //   .then((response) => {\r\n    //     if (response.statusText === \"created\") {\r\n    //       this.props.handleSuccessfulAuth(response.data);\r\n    //     }\r\n    //     return response.json();\r\n    //   })\r\n    //   .then((response) => {\r\n    //     console.log(\"response: \", response);\r\n    //     console.log(\"token: \", response.token);\r\n    //     this.setState({\r\n    //       isAuth: true,\r\n    //       token: response.token,\r\n    //       user_id: response.user_id,\r\n    //     });\r\n    //     localStorage.setItem(\"token\", response.token);\r\n    //     localStorage.setItem(\"user_id\", response.user_id);\r\n    //     // const remainingMilliseconds = 60 * 60 * 1000;\r\n    //     // const expiryDate = new Date(\r\n    //     //   new Date().getTime() + remainingMilliseconds\r\n    //     // );\r\n    //     // localStorage.setItem(\"expiryDate\", expiryDate.toISOString());\r\n    //     // this.setAutoLogout(remainingMilliseconds);\r\n    //   })\r\n    //   .catch((error) => {\r\n    //     console.log(\"login error\", error);\r\n    //   });\r\n    // var email=this.state.Email;\r\n    // setSessionCookie({ email });\r\n  };\r\n\r\n \r\n\r\n  addActiveClass(i) {\r\n    var li1 = document.getElementById(\"li1\");\r\n    var li2 = document.getElementById(\"li2\");\r\n    var a1 = document.getElementById(\"a1\");\r\n    var a2 = document.getElementById(\"a2\");\r\n    var signin = document.getElementById(\"signin\");\r\n    var signup = document.getElementById(\"signup\");\r\n    if (i === \"1\") {\r\n      li1.classList.add(\"active\");\r\n      a1.classList.add(\"active-text\");\r\n      li2.classList.remove(\"active\");\r\n      a2.classList.remove(\"active-text\");\r\n      signin.classList.remove(\"d-none\");\r\n      signup.classList.add(\"d-none\");\r\n    } else if (i === \"2\") {\r\n      li1.classList.remove(\"active\");\r\n      a1.classList.remove(\"active-text\");\r\n      li2.classList.add(\"active\");\r\n      a2.classList.add(\"active-text\");\r\n      signin.classList.add(\"d-none\");\r\n      signup.classList.remove(\"d-none\");\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <section\r\n        id=\"login_form\"\r\n        className=\"background\"\r\n        style={{ backgroundImage: \"url(/bg.jpg)\" }}\r\n      >\r\n        <div className=\"background p-3\">\r\n          <div className=\"pt-4\">\r\n            <div\r\n              className=\"buttons-container mx-auto mt-5\"\r\n              style={{ width: \"220px\" }}\r\n            >\r\n              <ul>\r\n                <li\r\n                  onClick={() => this.addActiveClass(\"1\")}\r\n                  id=\"li1\"\r\n                  className=\"active\"\r\n                >\r\n                  <a id=\"a1\" className=\"active-text\">\r\n                    <FiLogIn />\r\n                  </a>\r\n                </li>\r\n\r\n                <li onClick={() => this.addActiveClass(\"2\")} id=\"li2\">\r\n                  <a id=\"a2\">\r\n                    <FaUserPlus />{\" \"}\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n\r\n          <div id=\"signin\" className=\"container signinClass\">\r\n            <div className=\"row\">\r\n              <div className=\"col-sm-9 col-md-6 col-lg-4 mx-auto\">\r\n                <div className=\"card card-signin my-5\">\r\n                  <div className=\"card-body\">\r\n                    <h5 className=\"card-title text-center mt-0\">\r\n                      Welcome back!\r\n                    </h5>\r\n                    <form\r\n                      onSubmit={this.handelLogin}\r\n                      className=\"form-signin\"\r\n                      method=\"POST\"\r\n                    >\r\n                      <div className=\"form-label-group\">\r\n                        <input\r\n                          name=\"Email\"\r\n                          value={this.state.Email}\r\n                          onChange={this.handelchange}\r\n                          type=\"email\"\r\n                          className=\"form-control\"\r\n                          placeholder=\"Email address\"\r\n                        />\r\n                        {this.state.errors.Email && (\r\n                          <div className=\"alert alert-danger form-control\">\r\n                            {this.state.errors.Email}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n\r\n                      <div className=\"form-label-group\">\r\n                        <input\r\n                          name=\"Password\"\r\n                          value={this.state.Password}\r\n                          onChange={this.handelchange}\r\n                          type=\"password\"\r\n                          className=\"form-control\"\r\n                          placeholder=\"Password\"\r\n                        />\r\n                        {this.state.errors.Password && (\r\n                          <div className=\"alert alert-danger form-control\">\r\n                            {this.state.errors.Password}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"custom-control custom-checkbox text-center mt-2 mb-2\">\r\n                        <input\r\n                        name=\"isChecked\"\r\n                          type=\"checkbox\"\r\n                          className=\"custom-control-input\"\r\n                          id=\"customCheck1\"\r\n                          checked={this.state.isChecked}\r\n                          onChange={this.handleInputChange}\r\n\r\n                        />\r\n                        <label\r\n                          className=\"custom-control-label\"\r\n                          htmlFor=\"customCheck1\"\r\n                        >\r\n                          Remember Me\r\n                        </label>\r\n                      </div>\r\n\r\n                      <button\r\n                        className=\"mybtn btn-lg btn-block text-uppercase submit-button\"\r\n                        type=\"submit\"\r\n                      >\r\n                        Sign in\r\n                      </button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div id=\"signup\" className=\"container d-none signupClass\">\r\n            <Signup history={this.props.history} />\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\nconst mapactiontoprops = (disptch) => {\r\n  return bindActionCreators(\r\n    {\r\n      login\r\n    },\r\n    disptch\r\n  );\r\n};\r\nconst mapstatetoprops = (state) => {\r\n  return {\r\n    client: state.Clients    \r\n  };\r\n}\r\nexport default connect(mapstatetoprops, mapactiontoprops) (Login);\r\n","E:\\iti\\final pro\\airbnb\\src\\components\\navbar.js",[],"E:\\iti\\final pro\\airbnb\\src\\reducers\\wishlists.js",[],"E:\\iti\\final pro\\airbnb\\src\\reducers\\reservations.js",[],"E:\\iti\\final pro\\airbnb\\src\\reducers\\places.js",[],"E:\\iti\\final pro\\airbnb\\src\\reducers\\clients.js",[],"E:\\iti\\final pro\\airbnb\\src\\reducers\\reviews.js",["244"],"E:\\iti\\final pro\\airbnb\\src\\components\\home\\slideshow.js",[],"E:\\iti\\final pro\\airbnb\\src\\components\\home\\places.js",[],"E:\\iti\\final pro\\airbnb\\src\\components\\search\\map.js",["245","246"],"E:\\iti\\final pro\\airbnb\\src\\components\\home\\places-cards.js",["247","248","249","250"],"import React, {Component} from 'react';\r\nimport { NavLink as Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { FaRegHeart, FaHeart, FaStar } from \"react-icons/fa\";\r\n\r\nimport { getAllPlaces } from '../../actions/places';\r\nimport { getWishlistsByUserId, addWishlist, deleteWishlistById, deleteByID ,getWishlistByID} from '../../actions/wishlists';\r\nimport { getAllReviews, getPlaceReviews, getReviewDetails } from '../../actions/reviews';\r\nimport FeaturesIcons from './features-icons';\r\n\r\nclass Cards extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            places: [],\r\n            wishlists: [],\r\n            userWishlists: [],\r\n            isWishlisted: false,\r\n            reviews: [],\r\n            userId: \"5\",\r\n            flag:true,\r\n            avgArr: [],\r\n            ratingResult: 0,\r\n            token: \"\",\r\n            UserWishlists:[],\r\n            avrgs:[],\r\n            isAuth: false\r\n            // userWishlists:[]\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.props.getAllPlaces();\r\n         this.setState({places: this.props.places.places});\r\n        // console.log(\"Places: *******\", await this.state.places);\r\n        // await this.setState({places: this.props.places});\r\n        // console.log(\"Places: *******\", this.state.places.places);\r\n\r\n        // await this.props.getAllWishlists();\r\n        // await this.setState({wishlists: this.props.wishlists});\r\n        // console.log(\"Wishlists: \", this.state.wishlists);\r\n\r\n        await this.props.getWishlistsByUserId(this.state.userId);\r\n        await this.setState({userWishlists: this.props.userWishlists});\r\n        // console.log(\"userWishlists: \", this.state.userWishlists);\r\n        this.setState({userId:localStorage.getItem(\"user_id\")});\r\n        if(localStorage.getItem(\"token\")){\r\n            this.setState({isAuth : true});\r\n        }\r\n        \r\n        \r\n        // await this.props.getAllReviews();\r\n        // await this.setState({reviews: this.props.reviews});\r\n        // console.log(\"Reviews: \", this.state.reviews);\r\n\r\n        // await this.props.getPlaceReviews(\"601cd04e9b694d3c30abc913\");\r\n        // console.log(\"$$$$$$$$$$$ \", this.props.placeReviews.reviews);\r\n\r\n        // await this.props.getReviewDetails(\"601c2b3dbdacaa26ec53b067\");\r\n        // console.log(\"########### \", this.props.reviewDetails.review);\r\n\r\n        // this.renderRating(\"601cd04e9b694d3c30abc913\");\r\n\r\n        \r\n        // this.state.places.slice(0, 6).map(place => {\r\n        //     let avg = this.renderRating(place._id);\r\n        //     this.setState((state) => {\r\n        //         const avgArr = state.avgArr.push(avg);\r\n        //         return avgArr;\r\n        //     })\r\n        //     console.log(this.state.avgArr);\r\n        // });\r\n\r\n        // console.log(\"000000 \", this.state.result);\r\n        this.setState({token: localStorage.getItem(\"token\")});\r\n\r\n        // Error Here\r\n        this.state.places.slice(0,6).map(async(place)=>{\r\n            // console.log(\"place: \" , place);\r\n            var id = place._id;\r\n            await this.props.getPlaceReviews(id);\r\n            // console.log(\"...............\", this.props.placeReviews);\r\n            // return id;\r\n            const reviews = this.props.placeReviews.reviews;\r\n            // console.log(\"reviews: \", reviews)\r\n            if (reviews && reviews.length > 0) {\r\n                let rate = 0;\r\n                var avg =0;\r\n                var result =0;\r\n                result = await reviews.map(async rev => {\r\n                    // console.log(\"rev: \", rev);\r\n                    await this.props.getReviewDetails(rev);\r\n                    if(this.props.reviewDetails) {\r\n                        var rating =  this.props.reviewDetails.review.rating;\r\n                        // console.log(\"ratingggggggg : \", this.props.reviewDetails.review.rating);\r\n                        rate += rating;\r\n                        // console.log(\"rate: \", rate);\r\n                        return rate;\r\n                    }\r\n                })\r\n                var sum =0;\r\n                // console.log(\"kkkkkkkkk:   \",result[result.length-1]);\r\n                result[result.length-1].then((promise)=>{\r\n                    // console.log(\"promise: \" , promise);\r\n                    avg = promise / reviews.length;\r\n                    // console.log(\"avg: \", avg);\r\n                    this.setState({result: avg});\r\n                    this.setState((state) => {\r\n                        const avrgs = state.avrgs.push(avg.toFixed(1));\r\n                        return avrgs;\r\n                    })\r\n\r\n                })\r\n\r\n                    // result.map((promise)=>{\r\n                    //     // console.log(\"promiiiiiiiseeeee:  \",promise)\r\n                    //     promise.then((ava)=>{\r\n                    //         console.log(\"../.,,,,,,:  \" ,ava);\r\n                    //             sum += ava;\r\n                    //             console.log(\"summm:   \",sum);\r\n                    //             return sum;\r\n                    //     }).then((sum)=>{\r\n                    //         var avg = sum / reviews.length;\r\n                    //         console.log(\"avg: \", avg);\r\n                    //     })\r\n                    // })\r\n\r\n                    // console.log(\"reviews.length: \", reviews.length ,  \"   \" , result);\r\n                    // var avg = result / reviews.length;\r\n                    // console.log(\"avg: \", avg);\r\n\r\n                // var res = result.then(\r\n                // })\r\n                // return avg;\r\n            }\r\n       \r\n            // console.log(\"result: \" , this.state.result);\r\n        })\r\n       \r\n        await this.userWishlists();\r\n    }\r\n\r\n    eventHandle = async (id) =>{\r\n        await this.setState({isWishlisted: !this.state.isWishlisted});\r\n        // this.renderWishlistIcon(id);\r\n    }\r\n\r\n    userWishlists = async () => {\r\n        await this.props.getWishlistsByUserId(this.state.token);\r\n        // console.log(\"hereeeeeee:   \",this.props.userWishlists);\r\n        // Error Here\r\n        // if(this.props.userWishlists.wishlists && this.props.userWishlists.wishlists > 0){\r\n        if(this.props.userWishlists.wishlists){\r\n            this.props.userWishlists.wishlists.map(async(wishlist_id)=>{\r\n            await this.props.getWishlistByID(this.state.token,wishlist_id);\r\n            // console.log(\"..........\" , this.props.wishlistDetails.wishlist);\r\n            var wishlist_details = this.props.wishlistDetails;\r\n            this.setState((state) => {\r\n                const userWishlists = state.UserWishlists.push(wishlist_details.wishlist);\r\n                return userWishlists;\r\n            })\r\n        })\r\n        // console.log(\"llllllllll: \" , this.state.UserWishlists);\r\n\r\n        }\r\n        // this.setState({use})\r\n    }\r\n\r\n    rendering = (id) =>{//for palceID\r\n        var flag = false;\r\n        var wishlist_id = \"\"; \r\n            \r\n        \r\n        // console.log(id);\r\n      var found  = this.state.UserWishlists.find(\r\n          // eslint-disable-next-line\r\n          (wishlist)=>{ \r\n              if(wishlist.place_id === id)\r\n              { \r\n                  wishlist_id = wishlist._id;\r\n                //   console.log(\"yes\");\r\n                // this.setState({isWishlisted: true});\r\n                flag = true;\r\n                  return true;\r\n              }\r\n          });\r\n          if(found && flag){\r\n              return (\r\n                <FaHeart\r\n                    className = \"wishlist-icon\"\r\n                    title = \"Remove from wishlist\"\r\n                    onClick={async()=> {\r\n                        console.log(\"before\");\r\n                        flag = false;\r\n                        var wishlist_Obj = {\r\n                            user_id:this.state.userId,\r\n                            place_id :id\r\n                        }\r\n                        console.log(wishlist_Obj , \"   id \" , wishlist_id);\r\n                        await this.props.deleteWishlistById(this.state.token,wishlist_id);\r\n                        //  this.rendering(id);\r\n                         window.location.reload();\r\n                    }}\r\n                />\r\n              )\r\n          }\r\n          if(!flag || !found){\r\n              return (\r\n                <FaRegHeart\r\n                className = \"wishlist-icon\"\r\n                title = \"Add to wishlist\"\r\n                onClick={async ()=> {\r\n                flag = true;\r\n                console.log(\"noooooo\");\r\n                var wishlist_Obj = {\r\n                    place_id :id\r\n                }\r\n                console.log(wishlist_Obj);\r\n                await this.props.addWishlist(this.state.token,wishlist_Obj);\r\n                //  this.rendering(id);\r\n                 window.location.reload();\r\n                    // this.setState({isWishlisted: !this.state.isWishlisted});\r\n                }}\r\n            />\r\n              )\r\n         \r\n          }\r\n    \r\n      console.log(\"found: \" , found);\r\n    }\r\n\r\n    renderWishlistIcon = (id) => {\r\n        // console.log(this.state.userWishlists);\r\n        //let wishlisted = true;\r\n        for (const wishlist of this.state.userWishlists) {\r\n        // this.state.userWishlists.map(wishlist => {\r\n            // console.log(wishlist.place_id)\r\n            if(wishlist.place_id === id && this.state.isWishlisted){\r\n                return (\r\n                    <FaHeart\r\n                    className = \"wishlist-icon\"\r\n                        title = \"Remove from wishlist\"\r\n                        onClick={()=> {\r\n                            var wishlist_Obj = {\r\n                                user_id:this.state.userId,\r\n                                place_id :id\r\n                            }\r\n                            console.log(wishlist_Obj);\r\n                            // this.props.deleteByID(wishlist_Obj);\r\n                            this.setState({isWishlisted: !this.state.isWishlisted});\r\n                            console.log(\"after\");\r\n                        }}\r\n                    />\r\n                )\r\n            }\r\n        // });\r\n        }\r\n        return (\r\n            // <div>JJJ</div>\r\n            <FaRegHeart\r\n                className = \"wishlist-icon\"\r\n                title = \"Add to wishlist\"\r\n                onClick={()=> {\r\n                    document.body.style.color =\"blue\";\r\n                    // console.log(e.target);\r\n                    console.log(\"mmmmm\")\r\n                    var wishlist_Obj = {\r\n                        user_id:this.state.userId,\r\n                        place_id :id\r\n                    }\r\n                    console.log(wishlist_Obj);\r\n                    // this.props.addWishlist(wishlist_Obj);\r\n                    this.setState({isWishlisted: !this.state.isWishlisted});\r\n                }}\r\n            />\r\n        )\r\n    }\r\n\r\n    wishlist = (id) => {\r\n        // console.log(this.state.userWishlists);\r\n        for (const wishlist of this.state.userWishlists) {\r\n        // this.state.userWishlists.map(wishlist => {\r\n            // console.log(wishlist.place_id)\r\n            if(wishlist.place_id === id){   \r\n                //this.setState({isWishlisted : false});\r\n                return(\r\n                <>\r\n                    {this.state.isWishlisted\r\n                        ?\r\n                        <FaHeart\r\n                            className = \"wishlist-icon\"\r\n                            title = \"Remove from wishlist\"\r\n                            onClick={()=> {\r\n                                // this.eventHandle(wishlist.place_id);\r\n                                // console.log(e.target);\r\n                               \r\n                            }}\r\n                        />\r\n                        :\r\n                        <FaRegHeart\r\n                            className = \"wishlist-icon\"\r\n                            title = \"Add to wishlist\"\r\n                            onClick={()=> {\r\n                                // console.log(e.target);\r\n                                this.setState({isWishlisted: !this.state.isWishlisted});\r\n                            }}\r\n                        />\r\n                    }\r\n                </>\r\n                )\r\n            }\r\n        }\r\n        // )};\r\n    }\r\n\r\n    renderRatingAvg = (id) => {\r\n        const reviews = this.state.reviews;\r\n        if(reviews) {\r\n            let rate = 0;\r\n            // eslint-disable-next-line\r\n            const result = reviews.filter(review => {\r\n                if(review.place_id === id) {\r\n                    return review.rating;\r\n                }\r\n            });\r\n            // console.log(\"Result\", result);\r\n            // console.log(\"Result Length: \", result.length);\r\n            result.map(rev => {\r\n                rate += rev.rating;\r\n                return rate;\r\n                // return rev.rating;\r\n            });\r\n            const avg = rate / result.length\r\n            // console.log(avg);\r\n            return avg;\r\n        }\r\n    }\r\n\r\n    renderRating = async (id) => {\r\n        console.log(\"id: \" , id);\r\n        // await this.props.getPlaceReviews();\r\n        // await this.props.getReviewDetails();\r\n\r\n        // await this.props.getPlaceReviews(\"601cd04e9b694d3c30abc913\");\r\n        // console.log(\"$$$$$$$$$$$ \", this.props.placeReviews.reviews);\r\n\r\n        // await this.props.getReviewDetails(\"601c2b3dbdacaa26ec53b067\");\r\n        // console.log(\"########### \", this.props.reviewDetails.review);\r\n\r\n        await this.props.getPlaceReviews(id);\r\n        console.log(\"...............\", this.props.placeReviews);\r\n        // return id;\r\n        const reviews = this.props.placeReviews.reviews;\r\n        console.log(\"reviews: \", reviews)\r\n        if (reviews && reviews.length > 0) {\r\n            let rate = 0;\r\n            var avg =0;\r\n            var result =0;\r\n            result = await reviews.map(async rev => {\r\n                // console.log(\"rev: \", rev);\r\n                await this.props.getReviewDetails(rev);\r\n                var rating =  this.props.reviewDetails.review.rating;\r\n                // console.log(\"ratingggggggg : \", this.props.reviewDetails.review.rating);\r\n                rate += rating;\r\n                // console.log(\"rate: \", rate);\r\n                return rate;\r\n            })\r\n            var sum =0;\r\n            // console.log(\"kkkkkkkkk:   \",result[result.length-1]);\r\n            result[result.length-1].then((promise)=>{\r\n                // console.log(\"promise: \" , promise);\r\n                 avg = promise / reviews.length;\r\n                  console.log(\"avg: \", avg);\r\n                  this.setState({result: avg});\r\n                  return avg;\r\n                  \r\n                            })\r\n            \r\n                // result.map((promise)=>{\r\n                //     // console.log(\"promiiiiiiiseeeee:  \",promise)\r\n                //     promise.then((ava)=>{\r\n                //         console.log(\"../.,,,,,,:  \" ,ava);\r\n                //             sum += ava;\r\n                //             console.log(\"summm:   \",sum);\r\n                //             return sum;\r\n                //     }).then((sum)=>{\r\n                //         var avg = sum / reviews.length;\r\n                //         console.log(\"avg: \", avg);\r\n                //     })\r\n                // })\r\n                    console.log(\"reviews.length: \", reviews.length ,  \"   \" , result);\r\n                    var avg = result / reviews.length;\r\n                    console.log(\"avg: \", avg);\r\n                \r\n            // var res = result.then(\r\n            // })\r\n            return avg;\r\n        }\r\n            // let result = 0;\r\n            // await reviews.map(async review => {\r\n            //     // console.log(\"+++++++++++++++++\", review);\r\n            //     await this.props.getReviewDetails(review);\r\n            //     // const rating = this.props.reviewDetails.review.rating;\r\n            //     // console.log(\"########### \", rating);\r\n            //     // result += rating;\r\n            //     console.log(result);\r\n            //     result += this.props.reviewDetails.review.rating;\r\n            //     this.setState({ratingResult: result});\r\n            //     console.log(\"////////////\", this.state.ratingResult);\r\n            //     return result;\r\n            // })\r\n            // console.log(\"===========\", this.state.ratingResult);\r\n            // // console.log(\"////////////\", reviews.length);\r\n            // const avg = this.state.ratingResult / reviews.length;\r\n            // // console.log(\"@@@@@@@@@\", avg);\r\n            // return avg;\r\n        // }\r\n        // return 0;\r\n    }\r\n\r\n    render() {\r\n        let places = this.props.cards;\r\n        // let places = this.state.places;\r\n        // console.log(\"/////////////\", places);\r\n\r\n        if (places && places.length > 0) {\r\n            // console.log(\"Inside if\");\r\n            return places.slice(0, 6).map((place,index) => {\r\n                return (\r\n                    <div className=\"col-9 col-sm-6 col-lg-4 mt-4\" key={place._id}>\r\n                        <div className=\"card-item\">\r\n                            <div\r\n                                className=\"card-item-highlight\"\r\n                                style={{\r\n                                // backgroundImage: `url(/images/places/place1-2.jpeg)`\r\n                                backgroundImage: `url(http://localhost:8080/${place.images[0]})`\r\n                            }}>\r\n                                <h3 className=\"card-item-name\">\r\n                                    <Link to={`/place-details/${place._id}`}\r\n                                        className=\"text-white\">\r\n                                        {place.name}\r\n                                    </Link>\r\n                                    <br/>\r\n                                    <FeaturesIcons place={place}/>\r\n                                </h3>\r\n                                <h4 className=\"card-item-type\">{place.type}</h4>\r\n                                { this.state.isAuth && this.rendering(place._id) }\r\n                                {/* {this.renderWishlistIcon(highlight._id)} */}\r\n                                {/* {this.wishlist(highlight._id)} */}\r\n                            </div>\r\n                            <div className=\"card-item-details\">\r\n                                <h4>{place.address.city}, {place.address.country}</h4>\r\n                                {/* <h4>Cairo, Egypt</h4> */}\r\n                                <p className=\"desc\">{place.description}</p>\r\n                                <p className=\"price\">${place.price}</p>\r\n                                <p className=\"rating\">\r\n                                    { this.state.avrgs[index] > 0 && <FaStar className=\"mr-1\" /> }\r\n                                    { this.state.avrgs[index] > 0 && this.state.avrgs[index] }\r\n                                    {/* <FaStar className=\"mr-1\" /> 4.3 */}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            )\r\n        }\r\n        return (\r\n            <></>\r\n            // <h2 className=\"text-center my-5\">No Cards...</h2>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapActionToProps = (dispatch) => {\r\n    return bindActionCreators({\r\n        getAllPlaces,\r\n        deleteWishlistById,\r\n        getWishlistsByUserId,\r\n        getAllReviews,\r\n        addWishlist,\r\n        deleteByID,\r\n        getPlaceReviews,\r\n        getReviewDetails,\r\n        getWishlistByID\r\n    }, dispatch);\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        places: state.Places,\r\n        wishlists: state.Wishlists,\r\n        userWishlists: state.Wishlists,\r\n        reviews: state.Reviews.all_reviews,\r\n        placeReviews: state.Reviews.place_reviews,\r\n        // placeReviews: state.Reviews,\r\n        reviewDetails: state.Reviews.review_details,\r\n        // reviewDetails: state.Reviews,\r\n        // reviewDetails: state.Reviews\r\n        userWishlists: state.Wishlists.wishlistsByUserId,\r\n        addWishlist: state.Wishlists,\r\n        wishlistDetails: state.Wishlists.wishlist_details\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionToProps)(Cards);","E:\\iti\\final pro\\airbnb\\src\\actions\\reservations.js",[],"E:\\iti\\final pro\\airbnb\\src\\actions\\wishlists.js",[],"E:\\iti\\final pro\\airbnb\\src\\actions\\clients.js",["251","252"],"E:\\iti\\final pro\\airbnb\\src\\components\\Forms\\review.js",["253","254","255","256","257","258","259"],"import React, { Component } from \"react\";\r\n// import React, {useContext, Component,  createRef }  from 'react';\r\nimport \"./form.css\";\r\nimport Signup from \"./Signup\";\r\nimport { FiLogIn } from \"react-icons/fi\";\r\nimport { FaUserPlus } from \"react-icons/fa\";\r\nimport {AddReview} from \"../../actions/reviews\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport Joi, { validate } from \"joi-browser\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\n\r\nclass ReviewAdding extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.rate = React.createRef();\r\n      }\r\n      state = {\r\n        Rate:0,\r\n        Comment:\"\",\r\n        Place_id:localStorage.place_id,\r\n        errors:[]        \r\n      };\r\n      schema = {\r\n        Rate: Joi.number().required().min(1).max(5),\r\n        Comment: Joi.string().required(),\r\n      };\r\n      Validations = () => {\r\n        const errors = {};\r\n        let state = { ...this.state };\r\n        delete state.errors;\r\n        delete state.Place_id;\r\n        var res = Joi.validate(state, this.schema, { abortEarly: false });\r\n        if (res.error === null) {\r\n          this.setState({ errors: {} });\r\n          return null;\r\n        }\r\n        for (const error of res.error.details) {\r\n          errors[error.path] = error.message;\r\n        }\r\n        console.log(res.error.details);\r\n        this.setState({ errors: errors });\r\n        console.log(this.state.errors);\r\n      };\r\n      handelchange=e=>{\r\n        this.state.errors[e.currentTarget.name]=null;\r\n        let state={...this.state};\r\n        state[e.currentTarget.name]=e.currentTarget.value;\r\n        this.setState(state)\r\n    }\r\n    AddNumber(type){\r\n        if(this.rate.current.value < 5){\r\n            this.rate.current.value ++;\r\n            this.state.Rate+=1;\r\n        }\r\n        \r\n      }\r\n      RemoveNumber(type){\r\n        if(this.rate.current.value>1){\r\n            this.rate.current.value --;\r\n            this.state.Rate-=1;\r\n        }\r\n      }\r\n    handelAdd=async e=>{\r\n        e.preventDefault();\r\n        const errors = this.Validations();\r\n        console.log(\"1111111111111111111111\", errors);\r\n        if (errors !== null) return;\r\n        var formData = new FormData();\r\n        formData.append(\"rating\", this.state.Rate);\r\n        formData.append(\"comment\", this.state.Comment);\r\n        let url=\"http://localhost:8080/api/review/\"+this.state.Place_id\r\n        await this.props.AddReview(formData,url,localStorage.token);\r\n        toast.success('🤩 Review added Successfully!', {\r\n          position: \"top-center\",\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: false,\r\n          draggable: true,\r\n          progress: undefined,\r\n          });\r\n          setTimeout(()=>{\r\n            // this.props.history.push(`/place-details/${this.state.Place_id}`);\r\n            window.location.reload();\r\n        }, 5500)\r\n    }\r\n\r\nrender(){\r\n   return(\r\n\r\n    <div className=\"container signinClass mt-0\">\r\n      <ToastContainer/>\r\n            <div className=\"row\">\r\n              <div className=\" col-12 mx-auto\">\r\n                <div className=\"card card-signin mb-5\">\r\n                  <div className=\"card-body\">\r\n                    <h5 className=\"card-title text-center mt-0\">\r\n                      Add New Review\r\n                    </h5>\r\n                    <form\r\n                      onSubmit={this.handelAdd}\r\n                      className=\"form-signin\"\r\n                      method=\"POST\"\r\n                    >\r\n                      <div className=\"form-label-group\">\r\n                        <input\r\n                          name=\"Comment\"\r\n                          value={this.state.Comment}\r\n                          onChange={this.handelchange}\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          placeholder=\"Enter Your Comment\"\r\n                        />\r\n                        {this.state.errors.Comment && (\r\n                          <div className=\"alert alert-danger form-control\">\r\n                            {this.state.errors.Comment}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n\r\n                      <div className=\"form-label-group row pb-3\">\r\n                            <label className=\"ml-5 col-12\">Rate:</label>\r\n                                <div className=\"plus btn \" onClick={() => this.AddNumber(\"bath\")}>+</div>\r\n                                <input name=\"Rate\"  ref={this.rate} id=\"Rate\" type=\"text\" className=\"number form-control\"value={this.state.Rate} disabled/>\r\n                                <div className=\"minus btn\" onClick={() => this.RemoveNumber(\"bath\")}>-</div>\r\n                            </div>\r\n                            {this.state.errors.Rate && ( <div className=\"alert alert-danger form-control\">{this.state.errors.Rate}</div> )}\r\n                             \r\n                      <button\r\n                        className=\"mybtn btn-lg btn-block text-uppercase submit-button\"\r\n                        type=\"submit\"\r\n                      >\r\n                        Add Review\r\n                      </button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n   )\r\n}\r\n}\r\nconst mapactiontoprops = (disptch) => {\r\n    return bindActionCreators(\r\n      {\r\n        AddReview\r\n      },\r\n      disptch\r\n    );\r\n  };\r\n  const mapstatetoprops = (state) => {\r\n    return {\r\n      reviews: state.Reviews.addreview,    \r\n    };}\r\nexport default  connect(mapstatetoprops, mapactiontoprops) (ReviewAdding);","E:\\iti\\final pro\\airbnb\\src\\actions\\reviews.js",[],"E:\\iti\\final pro\\airbnb\\src\\actions\\places.js",["260","261"],"E:\\iti\\final pro\\airbnb\\src\\components\\Forms\\Signup.js",["262","263","264"],"import React, { Component } from \"react\";\r\n// import React, { Component, createRef  }  from 'react';\r\nimport \"./form.css\";\r\nimport Joi from \"joi-browser\";\r\nimport axios from \"axios\";\r\nimport { setSessionCookie } from \"../session\";\r\nimport { addclient } from \"../../actions/clients\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { NavLink as Link } from \"react-router-dom\";\r\n\r\n\r\nclass Signup extends Component {\r\n  constructor(props) {\r\n      super(props);\r\n    }\r\n  state = {\r\n    UserName: \"\",\r\n    Email: \"\",\r\n    PhoneNumber: \"\",\r\n    Password: \"\",\r\n    Password_confirm: \"\",\r\n    Signup_errors: {},\r\n  };\r\n  ///start login form functions\r\n  handelchange = (e) => {\r\n    this.state.Signup_errors[e.currentTarget.name] = null;\r\n    let state = { ...this.state };\r\n    state[e.currentTarget.name] = e.currentTarget.value;\r\n    this.setState(state);\r\n  };\r\n\r\n  schema = {\r\n    UserName: Joi.string().required().max(15),\r\n    Email: Joi.string().required().email(),\r\n    Password: Joi.string().trim().required().min(5).max(20),\r\n    Password_confirm: Joi.any().equal(Joi.ref(\"Password\")),\r\n    PhoneNumber: Joi.string()\r\n      .required()\r\n      .regex(/^[0-9]+$/)\r\n      .required(),\r\n  };\r\n  // data = {};\r\n  // async componentDidMount() {\r\n  //   this.data = await axios.get(\"http://localhost:8080/api/clients\");\r\n  //   console.log(this.data);\r\n  // }\r\n\r\n  signupValidations = () => {\r\n    const errors = {};\r\n    let state = { ...this.state };\r\n    delete state.Signup_errors;\r\n    var res = Joi.validate(state, this.schema, { abortEarly: false });\r\n    if (res.error === null) {\r\n      this.setState({ Signup_errors: {} });\r\n      return null;\r\n    }\r\n    for (const error of res.error.details) {\r\n      errors[error.path] = error.message;\r\n    }\r\n    console.log(res.error.details);\r\n    this.setState({ Signup_errors: errors });\r\n    console.log(this.state.Signup_errors.Email);\r\n  };\r\n\r\n  handelsignup = async (e) => {\r\n    e.preventDefault();\r\n    const errors = this.signupValidations();\r\n    console.log(\"1111111111111111111111\", errors);\r\n    if (errors !== null) return;\r\n    // const obj = {\r\n    //   name: this.state.UserName,\r\n    //   email: this.state.Email,\r\n    //   password: this.state.Password,\r\n    //   phone: this.state.PhoneNumber,\r\n    //   is_host: false,\r\n    // };\r\n\r\n    var formData = new FormData();\r\n    formData.append(\"name\", this.state.UserName);\r\n    formData.append(\"email\", this.state.Email);\r\n    formData.append(\"password\", this.state.Password);\r\n    formData.append(\"phone\", this.state.PhoneNumber);\r\n    formData.append(\"is_host\", false);\r\n    for (var key of formData.entries()) {\r\n      console.log(key[0] + \", \" + key[1]);\r\n    }\r\n    let url = \"http://localhost:8080/api/signup\";\r\n    await this.props.addclient(formData,url);\r\n    console.log(\"signup data\",this.props.client);\r\n\r\n    // console.log(\"^^^^^^^^^^^\", this.props.client.data[0].msg)\r\n    if(this.props.client.message === \"Validation failed.\") {\r\n      window.alert(this.props.client.data[0].msg);\r\n      // this.state.errors.email\r\n      // this.setState({Signup_errors:this.props.client.data[0][1] })\r\n    }\r\n    \r\n    // let url = \"http://localhost:8080/api/signup\";\r\n    // let method = \"POST\";\r\n    // fetch(url, {\r\n    //   method: method,\r\n    //   body: formData,\r\n    //   //   headers: {\r\n    //   //     Authorization: \"Bearer \" + this.props.token,\r\n    //   //   },\r\n    // })\r\n    //   .then((response) => {\r\n    //     if (response.statusText === \"created\") {\r\n    //       this.props.handleSuccessfulAuth(response.data);\r\n    //     }\r\n    //   })\r\n    //   .catch((error) => {\r\n    //     console.log(\"registration error\", error);\r\n    //   });\r\n\r\n    // fetch(url, {\r\n    //   method: method,\r\n    //   body: formData,\r\n    //   headers: {\r\n    //     Authorization: \"Bearer \" + this.props.token,\r\n    //   },\r\n    // });\r\n\r\n    // await axios\r\n    //   .post(\r\n    //     \"http://localhost:3001/api/signup\",\r\n    //     { data: formData },\r\n    //     { headers: { \"content-type\": \"multipart/form-data\" } }\r\n    //   )\r\n    //   .then((response) => {\r\n    //     if (response.statusText === \"created\") {\r\n    //       this.props.handleSuccessfulAuth(response.data);\r\n    //       console.log(\"done\");\r\n    //     }\r\n    //   })\r\n    //   .catch((error) => {\r\n    //     console.log(\"registration error\", error);\r\n    //   });\r\n    var email = this.state.Email;\r\n    var password= this.state.password;\r\n    setSessionCookie({ email,password });\r\n    //await  this.props.history.push(\"/\");\r\n    window.location.reload();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"signup_form\" className=\"row\">\r\n        <div className=\"col-sm-9 col-md-6 col-lg-4 mx-auto\">\r\n          <div className=\"card card-signin my-5\">\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title text-center mt-0\">Register</h5>\r\n              <form\r\n                onSubmit={this.handelsignup}\r\n                className=\"form-signin\"\r\n                method=\"POST\"\r\n              >\r\n                <div className=\"form-label-group\">\r\n                  <input\r\n                    value={this.state.UserName}\r\n                    onChange={this.handelchange}\r\n                    name=\"UserName\"\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"User Name\"\r\n                  />\r\n                  {this.state.Signup_errors.UserName && (\r\n                    <div className=\"alert alert-danger form-control\">\r\n                      {this.state.Signup_errors.UserName}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"form-label-group\">\r\n                  <input\r\n                    value={this.state.Email}\r\n                    onChange={this.handelchange}\r\n                    name=\"Email\"\r\n                    type=\"email\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Email address\"\r\n                  />\r\n                  {this.state.Signup_errors.Email && (\r\n                    <div className=\"alert alert-danger form-control\">\r\n                      {this.state.Signup_errors.Email}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"form-label-group\">\r\n                  <input\r\n                    value={this.state.PhoneNumber}\r\n                    onChange={this.handelchange}\r\n                    name=\"PhoneNumber\"\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Phone Number\"\r\n                  />\r\n                  {this.state.Signup_errors.PhoneNumber && (\r\n                    <div className=\"alert alert-danger form-control\">\r\n                      Not valid\r\n                      {/* {this.state.Signup_errors.PhoneNumber} */}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"form-label-group\">\r\n                  <input\r\n                    value={this.state.Password}\r\n                    onChange={this.handelchange}\r\n                    name=\"Password\"\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Password\"\r\n                  />\r\n                  {this.state.Signup_errors.Password && (\r\n                    <div className=\"alert alert-danger form-control\">\r\n                      {this.state.Signup_errors.Password}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"form-label-group\">\r\n                  <input\r\n                    value={this.state.Password_confirm}\r\n                    onChange={this.handelchange}\r\n                    name=\"Password_confirm\"\r\n                    type=\"password\"\r\n                    id=\"inputConfirmPassword\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Confirm password\"\r\n                  />\r\n                  {this.state.Signup_errors.Password_confirm && (\r\n                    <div className=\"alert alert-danger form-control\">\r\n                      Password confirmation must equal to password\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"custom-control custom-checkbox text-center mt-2 mb-4\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"custom-control-input\"\r\n                    id=\"customCheck2\"\r\n                  />\r\n                  <label\r\n                    className=\"custom-control-label text-link\"\r\n                    htmlFor=\"customCheck2\"\r\n                  >\r\n                    Agree to <Link to=\"/terms\">Terms and Conditions</Link>\r\n                  </label>\r\n                </div>\r\n\r\n                <button\r\n                  className=\"mybtn btn-lg btn-block text-uppercase submit-button\"\r\n                  type=\"submit\"\r\n                >\r\n                  Register\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nconst mapactiontoprops = (disptch) => {\r\n  return bindActionCreators(\r\n    {\r\n      addclient\r\n    },\r\n    disptch\r\n  );\r\n};\r\nconst mapstatetoprops = (state) => {\r\n  return {\r\n    client: state.Clients    \r\n  };\r\n}\r\nexport default  connect(mapstatetoprops, mapactiontoprops)(Signup);\r\n","E:\\iti\\final pro\\airbnb\\src\\components\\home\\searchbar.js",[],"E:\\iti\\final pro\\airbnb\\src\\components\\home\\features-icons.js",[],{"ruleId":"265","severity":1,"message":"266","line":14,"column":25,"nodeType":"267","messageId":"268","endLine":14,"endColumn":41},{"ruleId":"269","severity":1,"message":"270","line":142,"column":13,"nodeType":"271","endLine":142,"endColumn":23},{"ruleId":"269","severity":1,"message":"270","line":159,"column":13,"nodeType":"271","endLine":159,"endColumn":30},{"ruleId":"269","severity":1,"message":"270","line":176,"column":13,"nodeType":"271","endLine":176,"endColumn":23},{"ruleId":"269","severity":1,"message":"270","line":180,"column":13,"nodeType":"271","endLine":180,"endColumn":23},{"ruleId":"269","severity":1,"message":"270","line":184,"column":13,"nodeType":"271","endLine":184,"endColumn":23},{"ruleId":"269","severity":1,"message":"270","line":188,"column":13,"nodeType":"271","endLine":188,"endColumn":23},{"ruleId":"269","severity":1,"message":"270","line":192,"column":13,"nodeType":"271","endLine":192,"endColumn":23},{"ruleId":"272","severity":1,"message":"273","line":196,"column":16,"nodeType":"274","messageId":"275","endLine":196,"endColumn":18},{"ruleId":"269","severity":1,"message":"270","line":198,"column":13,"nodeType":"271","endLine":198,"endColumn":23},{"ruleId":"272","severity":1,"message":"273","line":200,"column":21,"nodeType":"274","messageId":"275","endLine":200,"endColumn":23},{"ruleId":"269","severity":1,"message":"270","line":202,"column":13,"nodeType":"271","endLine":202,"endColumn":23},{"ruleId":"272","severity":1,"message":"273","line":204,"column":21,"nodeType":"274","messageId":"275","endLine":204,"endColumn":23},{"ruleId":"269","severity":1,"message":"270","line":206,"column":13,"nodeType":"271","endLine":206,"endColumn":23},{"ruleId":"272","severity":1,"message":"273","line":208,"column":21,"nodeType":"274","messageId":"275","endLine":208,"endColumn":23},{"ruleId":"269","severity":1,"message":"270","line":210,"column":13,"nodeType":"271","endLine":210,"endColumn":23},{"ruleId":"272","severity":1,"message":"273","line":212,"column":21,"nodeType":"274","messageId":"275","endLine":212,"endColumn":23},{"ruleId":"269","severity":1,"message":"270","line":214,"column":13,"nodeType":"271","endLine":214,"endColumn":23},{"ruleId":"265","severity":1,"message":"276","line":289,"column":13,"nodeType":"267","messageId":"268","endLine":289,"endColumn":20},{"ruleId":"277","severity":1,"message":"278","line":323,"column":9,"nodeType":"279","messageId":"280","endLine":355,"endColumn":40},{"ruleId":"281","replacedBy":"282"},{"ruleId":"283","replacedBy":"284"},{"ruleId":"265","severity":1,"message":"285","line":14,"column":9,"nodeType":"267","messageId":"268","endLine":14,"endColumn":23},{"ruleId":"265","severity":1,"message":"266","line":14,"column":25,"nodeType":"267","messageId":"268","endLine":14,"endColumn":41},{"ruleId":"265","severity":1,"message":"286","line":35,"column":15,"nodeType":"267","messageId":"268","endLine":35,"endColumn":24},{"ruleId":"269","severity":1,"message":"270","line":180,"column":13,"nodeType":"271","endLine":180,"endColumn":23},{"ruleId":"269","severity":1,"message":"270","line":197,"column":13,"nodeType":"271","endLine":197,"endColumn":30},{"ruleId":"269","severity":1,"message":"270","line":214,"column":13,"nodeType":"271","endLine":214,"endColumn":23},{"ruleId":"269","severity":1,"message":"270","line":218,"column":13,"nodeType":"271","endLine":218,"endColumn":23},{"ruleId":"269","severity":1,"message":"270","line":222,"column":13,"nodeType":"271","endLine":222,"endColumn":23},{"ruleId":"269","severity":1,"message":"270","line":226,"column":13,"nodeType":"271","endLine":226,"endColumn":23},{"ruleId":"269","severity":1,"message":"270","line":230,"column":13,"nodeType":"271","endLine":230,"endColumn":23},{"ruleId":"272","severity":1,"message":"273","line":234,"column":16,"nodeType":"274","messageId":"275","endLine":234,"endColumn":18},{"ruleId":"269","severity":1,"message":"270","line":236,"column":13,"nodeType":"271","endLine":236,"endColumn":23},{"ruleId":"272","severity":1,"message":"273","line":238,"column":21,"nodeType":"274","messageId":"275","endLine":238,"endColumn":23},{"ruleId":"269","severity":1,"message":"270","line":240,"column":13,"nodeType":"271","endLine":240,"endColumn":23},{"ruleId":"272","severity":1,"message":"273","line":242,"column":21,"nodeType":"274","messageId":"275","endLine":242,"endColumn":23},{"ruleId":"269","severity":1,"message":"270","line":244,"column":13,"nodeType":"271","endLine":244,"endColumn":23},{"ruleId":"272","severity":1,"message":"273","line":246,"column":21,"nodeType":"274","messageId":"275","endLine":246,"endColumn":23},{"ruleId":"269","severity":1,"message":"270","line":248,"column":13,"nodeType":"271","endLine":248,"endColumn":23},{"ruleId":"272","severity":1,"message":"273","line":250,"column":21,"nodeType":"274","messageId":"275","endLine":250,"endColumn":23},{"ruleId":"269","severity":1,"message":"270","line":252,"column":13,"nodeType":"271","endLine":252,"endColumn":23},{"ruleId":"277","severity":1,"message":"278","line":365,"column":9,"nodeType":"279","messageId":"280","endLine":397,"endColumn":40},{"ruleId":"265","severity":1,"message":"287","line":1,"column":10,"nodeType":"267","messageId":"268","endLine":1,"endColumn":20},{"ruleId":"265","severity":1,"message":"288","line":2,"column":10,"nodeType":"267","messageId":"268","endLine":2,"endColumn":25},{"ruleId":"265","severity":1,"message":"289","line":3,"column":10,"nodeType":"267","messageId":"268","endLine":3,"endColumn":29},{"ruleId":"265","severity":1,"message":"290","line":12,"column":10,"nodeType":"267","messageId":"268","endLine":12,"endColumn":22},{"ruleId":"265","severity":1,"message":"291","line":14,"column":3,"nodeType":"267","messageId":"268","endLine":14,"endColumn":18},{"ruleId":"265","severity":1,"message":"292","line":17,"column":3,"nodeType":"267","messageId":"268","endLine":17,"endColumn":23},{"ruleId":"265","severity":1,"message":"293","line":24,"column":15,"nodeType":"267","messageId":"268","endLine":24,"endColumn":23},{"ruleId":"265","severity":1,"message":"294","line":83,"column":9,"nodeType":"267","messageId":"268","endLine":83,"endColumn":12},{"ruleId":"265","severity":1,"message":"295","line":84,"column":9,"nodeType":"267","messageId":"268","endLine":84,"endColumn":14},{"ruleId":"265","severity":1,"message":"294","line":110,"column":9,"nodeType":"267","messageId":"268","endLine":110,"endColumn":12},{"ruleId":"265","severity":1,"message":"295","line":111,"column":9,"nodeType":"267","messageId":"268","endLine":111,"endColumn":14},{"ruleId":"265","severity":1,"message":"294","line":135,"column":9,"nodeType":"267","messageId":"268","endLine":135,"endColumn":12},{"ruleId":"265","severity":1,"message":"295","line":136,"column":9,"nodeType":"267","messageId":"268","endLine":136,"endColumn":14},{"ruleId":"296","severity":1,"message":"297","line":210,"column":79,"nodeType":"298","messageId":"299","endLine":210,"endColumn":81},{"ruleId":"296","severity":1,"message":"297","line":276,"column":36,"nodeType":"298","messageId":"299","endLine":276,"endColumn":38},{"ruleId":"265","severity":1,"message":"300","line":5,"column":8,"nodeType":"267","messageId":"268","endLine":5,"endColumn":11},{"ruleId":"265","severity":1,"message":"293","line":5,"column":15,"nodeType":"267","messageId":"268","endLine":5,"endColumn":23},{"ruleId":"265","severity":1,"message":"301","line":40,"column":11,"nodeType":"267","messageId":"268","endLine":40,"endColumn":17},{"ruleId":"302","severity":1,"message":"303","line":42,"column":9,"nodeType":"304","messageId":"275","endLine":42,"endColumn":12},{"ruleId":"265","severity":1,"message":"305","line":198,"column":5,"nodeType":"267","messageId":"268","endLine":198,"endColumn":8},{"ruleId":"265","severity":1,"message":"306","line":3,"column":9,"nodeType":"267","messageId":"268","endLine":3,"endColumn":17},{"ruleId":"265","severity":1,"message":"307","line":4,"column":9,"nodeType":"267","messageId":"268","endLine":4,"endColumn":17},{"ruleId":"265","severity":1,"message":"308","line":4,"column":19,"nodeType":"267","messageId":"268","endLine":4,"endColumn":28},{"ruleId":"265","severity":1,"message":"309","line":11,"column":24,"nodeType":"267","messageId":"268","endLine":11,"endColumn":35},{"ruleId":"265","severity":1,"message":"310","line":17,"column":10,"nodeType":"267","messageId":"268","endLine":17,"endColumn":20},{"ruleId":"265","severity":1,"message":"311","line":19,"column":32,"nodeType":"267","messageId":"268","endLine":19,"endColumn":42},{"ruleId":"265","severity":1,"message":"312","line":130,"column":15,"nodeType":"267","messageId":"268","endLine":130,"endColumn":23},{"ruleId":"313","severity":1,"message":"314","line":144,"column":29,"nodeType":"315","endLine":144,"endColumn":110},{"ruleId":"265","severity":1,"message":"295","line":167,"column":19,"nodeType":"267","messageId":"268","endLine":167,"endColumn":24},{"ruleId":"277","severity":1,"message":"278","line":231,"column":40,"nodeType":"279","messageId":"280","endLine":272,"endColumn":10},{"ruleId":"296","severity":1,"message":"316","line":285,"column":23,"nodeType":"298","messageId":"317","endLine":285,"endColumn":25},{"ruleId":"296","severity":1,"message":"316","line":286,"column":32,"nodeType":"298","messageId":"317","endLine":286,"endColumn":34},{"ruleId":"296","severity":1,"message":"316","line":293,"column":27,"nodeType":"298","messageId":"317","endLine":293,"endColumn":29},{"ruleId":"296","severity":1,"message":"316","line":294,"column":33,"nodeType":"298","messageId":"317","endLine":294,"endColumn":35},{"ruleId":"265","severity":1,"message":"318","line":308,"column":13,"nodeType":"267","messageId":"268","endLine":308,"endColumn":18},{"ruleId":"265","severity":1,"message":"319","line":309,"column":13,"nodeType":"267","messageId":"268","endLine":309,"endColumn":17},{"ruleId":"313","severity":1,"message":"314","line":353,"column":55,"nodeType":"315","endLine":353,"endColumn":110},{"ruleId":"313","severity":1,"message":"314","line":353,"column":113,"nodeType":"315","endLine":353,"endColumn":144},{"ruleId":"265","severity":1,"message":"320","line":2,"column":9,"nodeType":"267","messageId":"268","endLine":2,"endColumn":13},{"ruleId":"265","severity":1,"message":"293","line":9,"column":15,"nodeType":"267","messageId":"268","endLine":9,"endColumn":23},{"ruleId":"265","severity":1,"message":"321","line":10,"column":9,"nodeType":"267","messageId":"268","endLine":10,"endColumn":17},{"ruleId":"269","severity":1,"message":"270","line":57,"column":5,"nodeType":"271","endLine":57,"endColumn":22},{"ruleId":"322","severity":1,"message":"323","line":248,"column":19,"nodeType":"315","endLine":248,"endColumn":54},{"ruleId":"322","severity":1,"message":"323","line":254,"column":19,"nodeType":"315","endLine":254,"endColumn":30},{"ruleId":"322","severity":1,"message":"324","line":324,"column":25,"nodeType":"315","endLine":324,"endColumn":37},{"ruleId":"325","severity":1,"message":"326","line":23,"column":9,"nodeType":"327","messageId":"328","endLine":25,"endColumn":10},{"ruleId":"265","severity":1,"message":"311","line":7,"column":32,"nodeType":"267","messageId":"268","endLine":7,"endColumn":42},{"ruleId":"296","severity":1,"message":"297","line":101,"column":53,"nodeType":"298","messageId":"299","endLine":101,"endColumn":55},{"ruleId":"265","severity":1,"message":"329","line":100,"column":21,"nodeType":"267","messageId":"268","endLine":100,"endColumn":24},{"ruleId":"265","severity":1,"message":"329","line":366,"column":17,"nodeType":"267","messageId":"268","endLine":366,"endColumn":20},{"ruleId":"330","severity":1,"message":"331","line":390,"column":25,"nodeType":"267","messageId":"332","endLine":390,"endColumn":28},{"ruleId":"302","severity":1,"message":"333","line":496,"column":9,"nodeType":"304","messageId":"275","endLine":496,"endColumn":22},{"ruleId":"265","severity":1,"message":"334","line":126,"column":14,"nodeType":"267","messageId":"268","endLine":126,"endColumn":22},{"ruleId":"265","severity":1,"message":"334","line":151,"column":14,"nodeType":"267","messageId":"268","endLine":151,"endColumn":22},{"ruleId":"265","severity":1,"message":"335","line":4,"column":8,"nodeType":"267","messageId":"268","endLine":4,"endColumn":14},{"ruleId":"265","severity":1,"message":"336","line":5,"column":10,"nodeType":"267","messageId":"268","endLine":5,"endColumn":17},{"ruleId":"265","severity":1,"message":"337","line":6,"column":10,"nodeType":"267","messageId":"268","endLine":6,"endColumn":20},{"ruleId":"265","severity":1,"message":"293","line":10,"column":15,"nodeType":"267","messageId":"268","endLine":10,"endColumn":23},{"ruleId":"269","severity":1,"message":"270","line":45,"column":9,"nodeType":"271","endLine":45,"endColumn":26},{"ruleId":"269","severity":1,"message":"270","line":53,"column":13,"nodeType":"271","endLine":53,"endColumn":23},{"ruleId":"269","severity":1,"message":"270","line":60,"column":13,"nodeType":"271","endLine":60,"endColumn":23},{"ruleId":"265","severity":1,"message":"334","line":96,"column":14,"nodeType":"267","messageId":"268","endLine":96,"endColumn":22},{"ruleId":"265","severity":1,"message":"334","line":127,"column":14,"nodeType":"267","messageId":"268","endLine":127,"endColumn":22},{"ruleId":"265","severity":1,"message":"338","line":5,"column":8,"nodeType":"267","messageId":"268","endLine":5,"endColumn":13},{"ruleId":"339","severity":1,"message":"340","line":14,"column":3,"nodeType":"341","messageId":"342","endLine":16,"endColumn":6},{"ruleId":"269","severity":1,"message":"270","line":27,"column":5,"nodeType":"271","endLine":27,"endColumn":29},"no-unused-vars","'getSessionCookie' is defined but never used.","Identifier","unusedVar","react/no-direct-mutation-state","Do not mutate state directly. Use setState().","MemberExpression","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'address' is assigned a value but never used.","no-lone-blocks","Nested block is redundant.","BlockStatement","redundantNestedBlock","no-native-reassign",["343"],"no-negated-in-lhs",["344"],"'SessionContext' is defined but never used.","'placedata' is assigned a value but never used.","'FaFacebook' is defined but never used.","'AiFillInstagram' is defined but never used.","'GiEarthAfricaEurope' is defined but never used.","'getAllPlaces' is defined but never used.","'getAllWishlists' is defined but never used.","'getWishlistsByUserId' is defined but never used.","'validate' is defined but never used.","'arr' is assigned a value but never used.","'place' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","'Joi' is defined but never used.","'client' is assigned a value but never used.","no-dupe-keys","Duplicate key '_id'.","ObjectExpression","'min' is defined but never used.","'SiGithub' is defined but never used.","'useState' is defined but never used.","'useEffect' is defined but never used.","'updatePlace' is defined but never used.","'AiFillEdit' is defined but never used.","'InfoWindow' is defined but never used.","'settings' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","Array.prototype.map() expects a return value from arrow function.","expectedInside","'uName' is assigned a value but never used.","'uImg' is assigned a value but never used.","'Link' is defined but never used.","'Redirect' is defined but never used.","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","no-fallthrough","Expected a 'break' statement before 'default'.","SwitchCase","default","'sum' is assigned a value but never used.","no-redeclare","'avg' is already defined.","redeclared","Duplicate key 'userWishlists'.","'response' is assigned a value but never used.","'Signup' is defined but never used.","'FiLogIn' is defined but never used.","'FaUserPlus' is defined but never used.","'axios' is defined but never used.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","no-global-assign","no-unsafe-negation"]